(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{666:function(t,e,o){var n=o(25);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},709:function(t,e,o){"use strict";var strong=o(710),n=o(666);t.exports=o(711)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(n(this,"Set"),t=0===t?0:t,t)}},strong)},710:function(t,e,o){"use strict";var n=o(26).f,r=o(153),c=o(387),l=o(36),f=o(385),h=o(386),d=o(156),v=o(390),m=o(157),_=o(21),y=o(384).fastKey,w=o(666),x=_?"_s":"size",k=function(t,e){var o,n=y(e);if("F"!==n)return t._i[n];for(o=t._f;o;o=o.n)if(o.k==e)return o};t.exports={getConstructor:function(t,e,o,d){var v=t((function(t,n){f(t,v,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[x]=0,null!=n&&h(n,o,t[d],t)}));return c(v.prototype,{clear:function(){for(var t=w(this,e),data=t._i,o=t._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete data[o.i];t._f=t._l=void 0,t[x]=0},delete:function(t){var o=w(this,e),n=k(o,t);if(n){var r=n.n,c=n.p;delete o._i[n.i],n.r=!0,c&&(c.n=r),r&&(r.p=c),o._f==n&&(o._f=r),o._l==n&&(o._l=c),o[x]--}return!!n},forEach:function(t){w(this,e);for(var o,n=l(t,arguments.length>1?arguments[1]:void 0,3);o=o?o.n:this._f;)for(n(o.v,o.k,this);o&&o.r;)o=o.p},has:function(t){return!!k(w(this,e),t)}}),_&&n(v.prototype,"size",{get:function(){return w(this,e)[x]}}),v},def:function(t,e,o){var n,r,c=k(t,e);return c?c.v=o:(t._l=c={i:r=y(e,!0),k:e,v:o,p:n=t._l,n:void 0,r:!1},t._f||(t._f=c),n&&(n.n=c),t[x]++,"F"!==r&&(t._i[r]=c)),t},getEntry:k,setStrong:function(t,e,o){d(t,e,(function(t,o){this._t=w(t,e),this._k=o,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?v(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,v(1))}),o?"entries":"values",!o,!0),m(e)}}},711:function(t,e,o){"use strict";var n=o(12),r=o(13),c=o(28),l=o(387),meta=o(384),f=o(386),h=o(385),d=o(25),v=o(27),m=o(155),_=o(80),y=o(389);t.exports=function(t,e,o,w,x,k){var S=n[t],$=S,E=x?"set":"add",C=$&&$.prototype,D={},j=function(t){var e=C[t];c(C,t,"delete"==t||"has"==t?function(a){return!(k&&!d(a))&&e.call(this,0===a?0:a)}:"get"==t?function(a){return k&&!d(a)?void 0:e.call(this,0===a?0:a)}:"add"==t?function(a){return e.call(this,0===a?0:a),this}:function(a,b){return e.call(this,0===a?0:a,b),this})};if("function"==typeof $&&(k||C.forEach&&!v((function(){(new $).entries().next()})))){var B=new $,T=B[E](k?{}:-0,1)!=B,F=v((function(){B.has(1)})),I=m((function(t){new $(t)})),M=!k&&v((function(){for(var t=new $,e=5;e--;)t[E](e,e);return!t.has(-0)}));I||(($=e((function(e,o){h(e,$,t);var n=y(new S,e,$);return null!=o&&f(o,x,n[E],n),n}))).prototype=C,C.constructor=$),(F||M)&&(j("delete"),j("has"),x&&j("get")),(M||T)&&j(E),k&&C.clear&&delete C.clear}else $=w.getConstructor(e,t,x,E),l($.prototype,o),meta.NEED=!0;return _($,t),D[t]=$,r(r.G+r.W+r.F*($!=S),D),k||w.setStrong($,t,x),$}},712:function(t,e,o){var content=o(921);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(18).default)("b1b314a8",content,!0,{sourceMap:!1})},920:function(t,e,o){"use strict";var n=o(712);o.n(n).a},921:function(t,e,o){(e=o(17)(!1)).push([t.i,".textarea{resize:none!important}@media screen and (max-width:640px){.comment-mobile{text-align:left}}",""]),t.exports=e},988:function(t,e,o){"use strict";o.r(e);o(388),o(45),o(19),o(62),o(709);var n=o(731),r=o(0),c={name:"Forums",props:{id:String},data:function(){return{auth:void 0,forum:{type:void 0,title:void 0,body:""},showUnacceptablePostMssg:!1,isBanned:!1,showDialog:!1}},created:function(){var t=this;this.$aes.setKey("SECURE_VAL_PW");var e=localStorage.getItem("auth");if(e){var o=JSON.parse(this.$aes.decrypt(e));o&&(this.auth=o),this.$axios("https://valorantify.com/"+"users/".concat(this.auth.user._id),{method:"get"}).then((function(t){return t.data})).then((function(e){t.isBanned=e.isBanned}))}},methods:{toogleDialogEmoji:function(){this.showDialog=!this.showDialog},selectEmoji:function(t){this.forum.body+=t.data},formatDate:function(t){var e=r.utc(t).local();return r(e).format("DD/MM/YY h:mm a")},createForum:function(){var t=this;if(this.showDialog=!1,this.isBanned)this.$buefy.snackbar.open("You have been banned from posting. Contact via email to appeal.");else{this.forum.comments=[],this.forum.dateTime=new Date,this.forum.userId=this.auth.user._id,this.forum.title=this.filterBadwords(this.forum.title),this.forum.body=this.filterBadwords(this.forum.body);for(var e=!0,i=0;i<this.forum.title.length;i++)"*"!==this.forum.title[i]&&" "!==this.forum.title[i]&&"\n"!==this.forum.title[i]&&(e=!1);for(var o=0;o<this.forum.body.length;o++)"*"!==this.forum.body[o]&&" "!==this.forum.body[o]&&"\n"!==this.forum.body[o]&&(e=!1);e?this.showUnacceptablePostMssg=!0:this.$axios("https://valorantify.com/"+"api/forums?$sort[updatedAt]=-1&$limit=2&userId=".concat(this.auth.user._id),{method:"get",headers:{"content-type":"application/json"}}).then((function(t){return t.data})).then((function(e){for(var o=e.data,n=0,c=0;c<o.length;c++){var l=r().subtract(1,"d");if(r(o[c].createdAt).isBefore(l)||(n+=1),n>=2)return void t.$buefy.snackbar.open("You have reached your post limit for today!")}t.$axios("https://valorantify.com/api/forums",{method:"post",data:t.forum}).then((function(t){return t.data})).then((function(e){void 0!==e.code?t.$buefy.snackbar.open(e.message):(t.$buefy.snackbar.open("Creation successful!"),t.$router.push({path:"/forums/".concat(e._id,"/").concat(e.slug)}))})).catch((function(t){t.response&&"jwt expired"===t.response.data.message&&(localStorage.removeItem("auth"),window.location.reload())}))}))}},navLogin:function(){this.$router.push({path:"/login"})},navRegister:function(){this.$router.push({path:"/signup"})},filterBadwords:function(text){var t=new Set(["nigger","nigar","niggar","niger","n1ger","n1gger","n1ggar","nigga","negar","neggar","faggot","faggit","fagot","nigerr","nigarr","fagott","faggit"]);text=text.trim().split(" ");for(var i=0;i<text.length;i++)t.has(text[i].toLowerCase())&&(text[i]="******");return text=text.join(" ")}},components:{VEmojiPicker:n.a}},l=(o(920),o(6)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("div",{staticClass:"columns is-centered",staticStyle:{"margin-top":"10px"}},[o("div",{staticClass:"column is-narrow"},[o("div",{style:{width:t.$device.isMobile?"":"800px"}},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-content"},[o("div",{staticClass:"title"},[t._v("Create Discussion")]),t._v(" "),null==t.auth?o("div",{staticStyle:{"text-align":"right",padding:"0px"}},[o("span",{staticStyle:{cursor:"pointer",color:"#ff726f"},on:{click:function(e){return t.navLogin()}}},[t._v("LOGIN")]),t._v(" or\n              "),o("span",{staticStyle:{cursor:"pointer",color:"#ff726f"},on:{click:function(e){return t.navRegister()}}},[t._v("REGISTER")]),t._v(" to post!\n            ")]):t._e(),t._v(" "),null!=t.auth?o("div",{staticClass:"columns is-centered"},[o("div",{staticClass:"column",staticStyle:{"text-align":"left"}},[o("b-field",{attrs:{label:"Topic"}},[o("b-select",{attrs:{expanded:"",placeholder:"Select a topic"},model:{value:t.forum.type,callback:function(e){t.$set(t.forum,"type",e)},expression:"forum.type"}},[o("option",{staticStyle:{color:"white"},attrs:{value:"valorant"}},[t._v("Valorant Related")]),t._v(" "),o("option",{staticStyle:{color:"white"},attrs:{value:"offTopic"}},[t._v("Off Topic")]),t._v(" "),o("option",{staticStyle:{color:"white"},attrs:{value:"feedback"}},[t._v("Valorantify Feedback")])])],1),t._v(" "),o("b-field",{attrs:{label:"Title"}},[o("b-input",{attrs:{placeholder:"Title",maxlength:"100"},model:{value:t.forum.title,callback:function(e){t.$set(t.forum,"title",e)},expression:"forum.title"}})],1),t._v(" "),o("b-field",{staticStyle:{"padding-bottom":"0px"},attrs:{label:"Body"}},[o("b-input",{staticStyle:{resize:"none","white-space":"pre-wrap","word-wrap":"break-word"},attrs:{maxlength:"1000",type:"textarea","icon-right":"emoticon-outline","icon-right-clickable":""},on:{"icon-right-click":t.toogleDialogEmoji},model:{value:t.forum.body,callback:function(e){t.$set(t.forum,"body",e)},expression:"forum.body"}})],1),t._v(" "),o("VEmojiPicker",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticStyle:{"background-color":"#273142",position:"absolute",right:"0",display:"block","margin-top":"-150px","z-index":"1000"},on:{select:t.selectEmoji}}),t._v(" "),o("div",{staticStyle:{"text-align":"right"}},[o("b-button",{staticStyle:{"background-color":"#ff726f"},on:{click:t.createForum}},[t._v("Create")])],1),t._v(" "),o("div",[t.showUnacceptablePostMssg?o("p",{staticStyle:{color:"red","text-align":"right"}},[t._v("Sorry this post is not allowed.")]):t._e()])],1)]):t._e()])])])])])])}),[],!1,null,null,null);e.default=component.exports}}]);