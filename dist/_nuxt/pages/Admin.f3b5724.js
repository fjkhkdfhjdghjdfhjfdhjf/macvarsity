(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{619:function(e){e.exports=JSON.parse('[{"text":"Afghanistan","value":"af"},{"text":"Åland Islands","value":"ax"},{"text":"Albania","value":"al"},{"text":"Algeria","value":"dz"},{"text":"American Samoa","value":"as"},{"text":"Andorra","value":"ad"},{"text":"Angola","value":"ao"},{"text":"Anguilla","value":"ai"},{"text":"Antarctica","value":"aq"},{"text":"Antigua and Barbuda","value":"ag"},{"text":"Argentina","value":"ar"},{"text":"Armenia","value":"am"},{"text":"Aruba","value":"aw"},{"text":"Australia","value":"au"},{"text":"Austria","value":"at"},{"text":"Azerbaijan","value":"az"},{"text":"Bahamas","value":"bs"},{"text":"Bahrain","value":"bh"},{"text":"Bangladesh","value":"bd"},{"text":"Barbados","value":"bb"},{"text":"Belarus","value":"by"},{"text":"Belgium","value":"be"},{"text":"Belize","value":"bz"},{"text":"Benin","value":"bj"},{"text":"Bermuda","value":"bm"},{"text":"Bhutan","value":"bt"},{"text":"Bolivia","value":"bo"},{"text":"Bonaire, Sint Eustatius and Saba","value":"bq"},{"text":"Bosnia and Herzegovina","value":"ba"},{"text":"Botswana","value":"bw"},{"text":"Bouvet Island","value":"bv"},{"text":"Brazil","value":"br"},{"text":"Virgin Islands (British)","value":"vg"},{"text":"British Indian Ocean Territory","value":"io"},{"text":"Brunei Darussalam","value":"bn"},{"text":"Bulgaria","value":"bg"},{"text":"Burkina Faso","value":"bf"},{"text":"Burundi","value":"bi"},{"text":"Cambodia","value":"kh"},{"text":"Cameroon","value":"cm"},{"text":"Canada","value":"ca"},{"text":"Cabo Verde","value":"cv"},{"text":"Cayman Islands","value":"ky"},{"text":"Central African Republic","value":"cf"},{"text":"Chad","value":"td"},{"text":"Chile","value":"cl"},{"text":"China","value":"cn"},{"text":"Christmas Island","value":"cx"},{"text":"Cocos (Keeling) Islands","value":"cc"},{"text":"Colombia","value":"co"},{"text":"Comoros","value":"km"},{"text":"Congo","value":"cg"},{"text":"Congo, Democratic Republic of the","value":"cd"},{"text":"Cook Islands","value":"ck"},{"text":"Costa Rica","value":"cr"},{"text":"Côte d\'Ivoire","value":"ci"},{"text":"Croatia","value":"hr"},{"text":"Cuba","value":"cu"},{"text":"Curaçao","value":"cw"},{"text":"Cyprus","value":"cy"},{"text":"Czechia","value":"cz"},{"text":"Denmark","value":"dk"},{"text":"Djibouti","value":"dj"},{"text":"Dominica","value":"dm"},{"text":"Dominican Republic","value":"do"},{"text":"Ecuador","value":"ec"},{"text":"Egypt","value":"eg"},{"text":"El Salvador","value":"sv"},{"text":"Equatorial Guinea","value":"gq"},{"text":"Eritrea","value":"er"},{"text":"Estonia","value":"ee"},{"text":"Ethiopia","value":"et"},{"text":"Falkland Islands (Malvinas)","value":"fk"},{"text":"Faroe Islands","value":"fo"},{"text":"Fiji","value":"fj"},{"text":"Finland","value":"fi"},{"text":"France","value":"fr"},{"text":"French Guiana","value":"gf"},{"text":"French Polynesia","value":"pf"},{"text":"French Southern Territories","value":"tf"},{"text":"Gabon","value":"ga"},{"text":"Gambia","value":"gm"},{"text":"Georgia","value":"ge"},{"text":"Germany","value":"de"},{"text":"Ghana","value":"gh"},{"text":"Gibraltar","value":"gi"},{"text":"Greece","value":"gr"},{"text":"Greenland","value":"gl"},{"text":"Grenada","value":"gd"},{"text":"Guadeloupe","value":"gp"},{"text":"Guam","value":"gu"},{"text":"Guatemala","value":"gt"},{"text":"Guernsey","value":"gg"},{"text":"Guinea","value":"gn"},{"text":"Guinea-Bissau","value":"gw"},{"text":"Guyana","value":"gy"},{"text":"Haiti","value":"ht"},{"text":"Holy See","value":"va"},{"text":"Honduras","value":"hn"},{"text":"Hong Kong","value":"hk"},{"text":"Hungary","value":"hu"},{"text":"Iceland","value":"is"},{"text":"India","value":"in"},{"text":"Indonesia","value":"id"},{"text":"Iran (Islamic Republic of)","value":"ir"},{"text":"Iraq","value":"iq"},{"text":"Ireland","value":"ie"},{"text":"Isle of Man","value":"im"},{"text":"Israel","value":"il"},{"text":"Italy","value":"it"},{"text":"Jamaica","value":"jm"},{"text":"Japan","value":"jp"},{"text":"Jersey","value":"je"},{"text":"Jordan","value":"jo"},{"text":"Kazakhstan","value":"kz"},{"text":"Kenya","value":"ki"},{"text":"Korea (Democratic People\'s Republic of)","value":"kp"},{"text":"Korea, Republic of","value":"kr"},{"text":"Kuwait","value":"kw"},{"text":"Kyrgyzstan","value":"kg"},{"text":"Lao People\'s Democratic Republic","value":"la"},{"text":"Latvia","value":"lv"},{"text":"Lebanon","value":"lb"},{"text":"Lesotho","value":"ls"},{"text":"Liberia","value":"lr"},{"text":"Libya","value":"ly"},{"text":"Liechtenstein","value":"li"},{"text":"Lithuania","value":"lt"},{"text":"Luxembourg","value":"lu"},{"text":"North Macedonia","value":"mk"},{"text":"Macao","value":"mo"},{"text":"Madagascar","value":"mg"},{"text":"Malawi","value":"mw"},{"text":"Malaysia","value":"my"},{"text":"Maldives","value":"mv"},{"text":"Mali","value":"ml"},{"text":"Malta","value":"mt"},{"text":"Marshall Islands","value":"mh"},{"text":"Martinique","value":"mq"},{"text":"Mauritania","value":"mr"},{"text":"Mauritius","value":"mu"},{"text":"Mexico","value":"mx"},{"text":"Micronesia (Federated States of)","value":"fm"},{"text":"Moldova, Republic of","value":"md"},{"text":"Monaco","value":"mc"},{"text":"Mongolia","value":"mn"},{"text":"Montenegro","value":"me"},{"text":"Montserrat","value":"ms"},{"text":"Morocco","value":"ma"},{"text":"Mozambique","value":"mz"},{"text":"Myanmar","value":"mm"},{"text":"Namibia","value":"na"},{"text":"Nauru","value":"nr"},{"text":"Nepal","value":"np"},{"text":"Netherlands","value":"nl"},{"text":"New Caledonia","value":"nc"},{"text":"New Zealand","value":"nz"},{"text":"Nicaragua","value":"ni"},{"text":"Niger","value":"ne"},{"text":"Nigeria","value":"ng"},{"text":"Niue","value":"nu"},{"text":"Norway","value":"no"},{"text":"Oman","value":"om"},{"text":"Pakistan","value":"pk"},{"text":"Palau","value":"pw"},{"text":"Palestine, State of","value":"ps"},{"text":"Panama","value":"pa"},{"text":"Papua New Guinea","value":"pg"},{"text":"Paraguay","value":"py"},{"text":"Peru","value":"pe"},{"text":"Philippines","value":"ph"},{"text":"Poland","value":"pl"},{"text":"Portugal","value":"pt"},{"text":"Puerto Rico","value":"pr"},{"text":"Qatar","value":"qa"},{"text":"Réunion","value":"re"},{"text":"Romania","value":"ro"},{"text":"Russia","value":"ru"},{"text":"Rwanda","value":"rw"},{"text":"Saint Helena, Ascension and Tristan da Cunha","value":"sh"},{"text":"Saint Kitts and Nevis","value":"kn"},{"text":"Saint Lucia","value":"lc"},{"text":"Saint Pierre and Miquelon","value":"pm"},{"text":"Saint Vincent and the Grenadines","value":"vc"},{"text":"Samoa","value":"ws"},{"text":"San Marino","value":"sm"},{"text":"Sao Tome and Principe","value":"st"},{"text":"Saudi Arabia","value":"sa"},{"text":"Senegal","value":"sn"},{"text":"Serbia","value":"se"},{"text":"Seychelles","value":"sc"},{"text":"Sierra Leone","value":"sl"},{"text":"Singapore","value":"sg"},{"text":"Slovakia","value":"sk"},{"text":"Slovenia","value":"si"},{"text":"Solomon Islands","value":"sb"},{"text":"Somalia","value":"so"},{"text":"South Africa","value":"za"},{"text":"South Georgia and the South Sandwich Islands","value":"gs"},{"text":"South Sudan","value":"ss"},{"text":"Spain","value":"es"},{"text":"Sri Lanka","value":"lk"},{"text":"Sudan","value":"sd"},{"text":"Suriname","value":"sr"},{"text":"Eswatini","value":"sz"},{"text":"Sweden","value":"se"},{"text":"Switzerland","value":"ch"},{"text":"Syria","value":"sy"},{"text":"Taiwan","value":"tw"},{"text":"Tajikistan","value":"tj"},{"text":"Tanzania","value":"th"},{"text":"Timor-Leste","value":"tl"},{"text":"Togo","value":"tg"},{"text":"Tonga","value":"to"},{"text":"Trinidad and Tobago","value":"tt"},{"text":"Tunisia","value":"tn"},{"text":"Turkey","value":"tr"},{"text":"Turkmenistan","value":"tm"},{"text":"Tuvalu","value":"tv"},{"text":"Uganda","value":"ug"},{"text":"Ukraine","value":"ua"},{"text":"United Arab Emirates","value":"ae"},{"text":"United Kingdom","value":"gb"},{"text":"United States of America","value":"us"},{"text":"Uruguay","value":"uy"},{"text":"Uzbekistan","value":"uz"},{"text":"Vanuatu","value":"vu"},{"text":"Venezuela","value":"gm"},{"text":"Vietnam","value":"vn"},{"text":"Virgin Islands (U.S.)","value":"vi"},{"text":"Yemen","value":"ye"},{"text":"Zambia","value":"zm"},{"text":"Zimbabwe","value":"zw"},{"text":"International","value":"un"}]')},661:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var l=n(110);var o=n(154);function r(e){return function(e){if(Array.isArray(e))return Object(l.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},677:function(e,t,n){var content=n(750);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("309fa635",content,!0,{sourceMap:!1})},678:function(e,t,n){var content=n(752);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("7025a3d5",content,!0,{sourceMap:!1})},679:function(e,t,n){var content=n(754);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("05b7c95e",content,!0,{sourceMap:!1})},680:function(e,t,n){var content=n(756);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("51b68b5a",content,!0,{sourceMap:!1})},749:function(e,t,n){"use strict";var l=n(677);n.n(l).a},750:function(e,t,n){(t=n(17)(!1)).push([e.i,".type-button[data-v-323176fe]{width:150px}.button[data-v-323176fe]{margin-top:20px;margin-bottom:20px}",""]),e.exports=t},751:function(e,t,n){"use strict";var l=n(678);n.n(l).a},752:function(e,t,n){(t=n(17)(!1)).push([e.i,".type-button[data-v-4dc865ea]{width:150px}.button[data-v-4dc865ea]{margin-top:20px;margin-bottom:20px}",""]),e.exports=t},753:function(e,t,n){"use strict";var l=n(679);n.n(l).a},754:function(e,t,n){(t=n(17)(!1)).push([e.i,".type-button[data-v-49641ff6]{width:150px}.button[data-v-49641ff6]{margin-top:20px;margin-bottom:20px}",""]),e.exports=t},755:function(e,t,n){"use strict";var l=n(680);n.n(l).a},756:function(e,t,n){(t=n(17)(!1)).push([e.i,".type-button[data-v-34367df9]{width:150px}.button[data-v-34367df9]{margin-top:20px;margin-bottom:20px}",""]),e.exports=t},965:function(e,t,n){"use strict";n.r(t);var l=n(661),o=(n(35),n(619)),r={name:"AddEditPlayers",props:{passedPlayer:{},mode:void 0},data:function(){return{player:{name:"",realName:{first:"",last:""},nationality:"",socials:{twitter:"",twitch:""},files:[],team:" "},flagOptions:o}},mounted:function(){this.passedPlayer.name&&(this.player=this.passedPlayer)},methods:{submit:function(){"edit"===this.mode?this.editPlayer():this.addPlayer()},editPlayer:function(){var e=this;if(this.player.files){var t=new FormData;t.append("files",this.player.files),this.$axios("https://valorantify.com/api/uploads/players",{method:"post",data:t}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):(e.player.img=t.name,e.$axios("https://valorantify.com/api/players/"+e.player._id,{method:"patch",data:e.player}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):window.location.reload()})))}))}else this.$axios("https://valorantify.com/api/players/"+this.player._id,{method:"patch",data:this.player}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):window.location.reload()}))},addPlayer:function(){var e=this,t=new FormData;t.append("files",this.player.files),this.$axios("https://valorantify.com/api/uploads/players",{method:"post",data:t}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):(e.player.img=t.name,"null.jpg"===e.player.img&&(e.player.img="1593893229691-playerunknown.png"),e.$axios("https://valorantify.com/api/players",{method:"post",data:e.player}).then((function(e){return e.data})).then((function(t){if(void 0!==t.code)e.$buefy.snackbar.open(t.message);else{var body={playerId:t._id,isUpdated:!0,matchHistory:{numMatchesPlayed:0,numMapsPlayed:0,winRate:0,avgCombatScore:0,kills:0,deaths:0,assists:0,fbpr:0,dpr:0,kpr:0,econRating:0,rating:0,numRoundsPlayed:0},mapHistory:{stats:{}}};e.$axios("https://valorantify.com/api/playerstatstotal/",{method:"post",data:body}).then((function(e){return e.data})).then((function(e){window.location.reload()}))}})))}))}}},c=n(6),d=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card",staticStyle:{width:"800px"}},[n("section",{staticClass:"info-tiles",staticStyle:{"margin-top":"50px"}},[n("article",{staticClass:"tile is-child box"},[e._v("\n      "+e._s(e.mode)+"\n      "),n("b-field",{attrs:{label:"Name"}},[n("b-input",{model:{value:e.player.name,callback:function(t){e.$set(e.player,"name",t)},expression:"player.name"}})],1),e._v(" "),n("b-field",{attrs:{label:"Real First Name"}},[n("b-input",{model:{value:e.player.realName.first,callback:function(t){e.$set(e.player.realName,"first",t)},expression:"player.realName.first"}})],1),e._v(" "),n("b-field",{attrs:{label:"Real Last Name"}},[n("b-input",{model:{value:e.player.realName.last,callback:function(t){e.$set(e.player.realName,"last",t)},expression:"player.realName.last"}})],1),e._v(" "),n("b-field",{attrs:{label:"Flag"}},[n("b-select",{attrs:{expanded:"",placeholder:"Select Flag"},model:{value:e.player.flag,callback:function(t){e.$set(e.player,"flag",t)},expression:"player.flag"}},e._l(e.flagOptions,(function(option){return n("option",{key:option.value,domProps:{value:option.value}},[e._v(e._s(option.text))])})),0)],1),e._v(" "),n("b-field",{attrs:{label:"Twitter"}},[n("b-input",{model:{value:e.player.socials.twitter,callback:function(t){e.$set(e.player.socials,"twitter",t)},expression:"player.socials.twitter"}})],1),e._v(" "),n("b-field",{attrs:{label:"Twitch"}},[n("b-input",{model:{value:e.player.socials.twitch,callback:function(t){e.$set(e.player.socials,"twitch",t)},expression:"player.socials.twitch"}})],1),e._v("\n      LEAVE IMAGE BLANK IF YOU DONT HAVE IMAGE AND WANT TO USE DEFAULT HEADSHOT\n      "),n("b-field",{staticClass:"file"},[n("b-upload",{model:{value:e.player.files,callback:function(t){e.$set(e.player,"files",t)},expression:"player.files"}},[n("a",{staticClass:"button"},[n("b-icon",{attrs:{icon:"upload"}}),e._v(" "),n("span",[e._v("Upload Image")])],1)]),e._v(" "),e.player.files?n("span",{staticClass:"file-name"},[e._v(e._s(e.player.files.name))]):e._e()],1),e._v(" "),n("b-button",{on:{click:e.submit}},[e._v("Submit")])],1)])])}),[],!1,null,"000a48f8",null).exports,m=(n(107),n(108),{name:"AddEditPlayers",props:{passedTeam:{},mode:void 0,players:{type:Array}},data:function(){return{team:{name:"",img:"",playerIds:[],eventStats:{},activePlayerIds:[]},displayError:!1,errorMessage:""}},mounted:function(){this.passedTeam.name&&(this.team=this.passedTeam)},methods:{submit:function(){"edit"===this.mode?this.editTeam():this.addTeam()},editTeam:function(){var e=this;if(this.team.activePlayerIds.length>5)return this.displayError=!0,void(this.errorMessage="Team cannot have more than 5 active players!");if(this.team.activePlayerIds.forEach((function(t){e.team.playerIds.includes(t)||e.team.playerIds.push(t)})),this.team.files){var t=new FormData;t.append("files",this.team.files),this.$axios("https://valorantify.com/api/uploads/teams",{method:"post",data:t}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):(e.team.img=t.name,e.$axios("https://valorantify.com/api/teams/"+e.team._id,{method:"patch",data:e.team}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):window.location.reload()})))}))}else this.$axios("https://valorantify.com/api/teams/"+this.team._id,{method:"patch",data:this.team}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):window.location.reload()}))},addTeam:function(){var e=this;if(this.team.activePlayerIds.length>5)return this.displayError=!0,void(this.errorMessage="Team cannot have more than 5 active players!");this.team.activePlayerIds.forEach((function(t){e.team.playerIds.includes(t)||e.team.playerIds.push(t)}));var t=new FormData;t.append("files",this.team.files),this.$axios("https://valorantify.com/api/uploads/teams",{method:"post",data:t}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):(e.team.img=t.name,"null.jpg"===e.team.img&&(e.team.img="1592755349366-val.png"),e.$axios("https://valorantify.com/api/teams",{method:"post",data:e.team}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):window.location.reload()})))}))}}}),h=Object(c.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card",staticStyle:{width:"800px"}},[n("section",{staticClass:"info-tiles",staticStyle:{"margin-top":"50px"}},[n("article",{staticClass:"tile is-child box"},[e._v("\n      "+e._s(e.mode)+"\n      "),n("b-field",{attrs:{label:"Name"}},[n("b-input",{model:{value:e.team.name,callback:function(t){e.$set(e.team,"name",t)},expression:"team.name"}})],1),e._v(" "),e.team.activePlayerIds?n("b-field",{attrs:{label:"Players"}},[n("b-select",{attrs:{expanded:"",multiple:"",placeholder:"Select Players"},model:{value:e.team.activePlayerIds,callback:function(t){e.$set(e.team,"activePlayerIds",t)},expression:"team.activePlayerIds"}},e._l(e.players,(function(option){return n("option",{key:option._id,domProps:{value:option._id}},[e._v(e._s(option.name))])})),0)],1):e._e(),e._v(" "),e.team.playerIds?n("b-field",{attrs:{label:"Substitutes"}},[n("b-select",{attrs:{expanded:"",multiple:"",placeholder:"Select Subs"},model:{value:e.team.playerIds,callback:function(t){e.$set(e.team,"playerIds",t)},expression:"team.playerIds"}},e._l(e.players,(function(option){return n("option",{key:option._id,domProps:{value:option._id}},[e._v(e._s(option.name))])})),0)],1):e._e(),e._v("\n        LEAVE IMAGE BLANK IF YOU DONT HAVE IMAGE AND WANT TO USE DEFAULT HEADSHOT\n      "),n("b-field",{staticClass:"file"},[n("b-upload",{model:{value:e.team.files,callback:function(t){e.$set(e.team,"files",t)},expression:"team.files"}},[n("a",{staticClass:"button"},[n("b-icon",{attrs:{icon:"upload"}}),e._v(" "),n("span",[e._v("Upload Image")])],1)]),e._v(" "),e.team.files?n("span",{staticClass:"file-name"},[e._v(e._s(e.team.files.name))]):e._e()],1),e._v(" "),n("b-button",{on:{click:e.submit}},[e._v("Submit")])],1)]),e._v(" "),n("b-modal",{attrs:{active:e.displayError},on:{"update:active":function(t){e.displayError=t}}},[n("p",{staticStyle:{color:"red"}},[e._v(e._s(e.errorMessage))])])],1)}),[],!1,null,"8f7167d0",null).exports,v={name:"Admin",props:{teams:{type:Array},events:{type:Object},players:{type:Array}},data:function(){return{addEditTeams:!1,mode:"",team:{name:"",img:"",playerIds:[],eventStats:{}}}},mounted:function(){},methods:{editTeam:function(e){this.team=e,this.mode="edit",this.addEditTeams=!0},addTeam:function(e){this.team=e,this.mode="add",this.addEditTeams=!0},deleteTeam:function(e){var t=this;this.deletingDialogOpen=!0,this.$buefy.dialog.confirm({message:"Are you sure you want to delete team ".concat(e.name),type:"is-dark",onConfirm:function(){t.$axios("https://valorantify.com/"+"api/teams/".concat(e._id),{method:"delete"}).then((function(e){return e.data})).then((function(e){void 0!==e.code?t.$buefy.snackbar.open(e.message):window.location.reload()}))},onCancel:function(){t.deletingDialogOpen=!1}})}},components:{AddEditTeams:h}},f=(n(749),Object(c.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-two-thirds"},[n("div",{staticClass:"card",staticStyle:{padding:"50px","text-align":"left"}},[n("div",{staticClass:"card-content"},[n("p",{staticClass:"title"},[e._v("Teams")]),e._v(" "),n("b-button",{on:{click:e.addTeam}},[e._v("Add Team")]),e._v(" "),n("b-table",{staticStyle:{height:"800px",cursor:"pointer"},attrs:{paginated:!0,"per-page":5,"mobile-cards":"",data:e.teams,striped:!0,hoverable:!0},on:{click:function(t){e.deletingDialogOpen||e.editTeam(t)}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-table-column",{attrs:{searchable:"",label:"Name",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.name))])]),e._v(" "),n("b-table-column",{attrs:{label:"Players",field:"name"}},e._l(t.row.players,(function(t){return n("p",{key:t._id},[e._v(e._s(t.name))])})),0),e._v(" "),n("b-table-column",[n("b-button",{on:{click:function(n){return e.deleteTeam(t.row)}}},[e._v("DELETE")])],1)]}}])})],1)])])]),e._v(" "),n("b-modal",{attrs:{active:e.addEditTeams,"has-modal-card":"","trap-focus":""},on:{"update:active":function(t){e.addEditTeams=t}}},[n("AddEditTeams",{attrs:{players:e.players,passedTeam:e.team,mode:e.mode}})],1)],1)}),[],!1,null,"323176fe",null).exports),y=n(48),x={name:"AddEditEvent",props:{passedEvent:{},mode:void 0,teamsObj:{},teams:[]},data:function(){return{event:{},addTeamGroup:{team:void 0,groupNum:1},teamsToEdit:[],flagOptions:o}},mounted:function(){this.event=this.passedEvent,void 0===this.event.teamsObj&&(this.event.teamsObj={})},methods:{addTeamToGroup:function(){this.event.groups[parseInt(this.addTeamGroup.groupNum-1)].push(this.addTeamGroup.team._id),this.event.teamIds.push(this.addTeamGroup.team._id);for(var i=0;i<this.addTeamGroup.team.activePlayerIds.length;i++)this.event.activePlayerIds.push(this.addTeamGroup.team.playerIds[i]),null!=this.event.teamsObj[this.addTeamGroup.team._id]?this.event.teamsObj[this.addTeamGroup.team._id].push(this.addTeamGroup.team.playerIds[i]):this.event.teamsObj[this.addTeamGroup.team._id]=[this.addTeamGroup.team.playerIds[i]];for(var e=0;e<this.teams.length;e++)if(this.teams[e]._id===this.addTeamGroup.team._id){var t={points:0,groupStageWins:0,groupStageLoses:0,groupStageRoundsWon:0,groupStageRoundsLost:0};this.teams[e].eventStats?this.teams[e].eventStats[this.event._id]=t:this.teams[e].eventStats=Object(y.a)({},this.event._id,t),this.teamsToEdit.push(this.teams[e]);break}},removeTeamGroup:function(e,t){for(var i=0;i<e.length;i++)if(e[i]===t){e.splice(i,1);break}for(var n=0;n<this.event.teamIds.length;n++)if(this.event.teamIds[n]===t){this.event.teamIds.splice(n,1);break}for(var l=0;l<this.teamsToEdit.length;l++)this.teamsToEdit[l]._id===t&&delete this.teamsToEdit[l].eventStats[this.event._id]},submit:function(){"edit"===this.mode?this.editEvent():this.addEvent()},editEvent:function(){var e=this;if(this.editTeamsWithEvent(),this.event.files){var t=new FormData;t.append("files",this.event.files),this.$axios("https://valorantify.com/api/uploads/events",{method:"post",data:t}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):(e.event.img=t.name,delete e.event.matches,delete e.event.teams,e.$axios("https://valorantify.com/api/events/"+e.event._id,{method:"patch",data:e.event}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):window.location.reload()})))}))}else delete this.event.matches,delete this.event.teams,this.$axios("https://valorantify.com/api/events/"+this.event._id,{method:"patch",data:this.event}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):window.location.reload()}))},addEvent:function(){var e=this;this.editTeamsWithEvent();var t=new FormData;t.append("files",this.event.files),this.$axios("https://valorantify.com/api/uploads/events",{method:"post",data:t}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):(e.event.img=t.name,delete e.event.matches,delete e.event.teams,e.$axios("https://valorantify.com/api/events",{method:"post",data:e.event}).then((function(e){return e.data})).then((function(t){if(void 0!==t.code)e.$buefy.snackbar.open(t.message);else{var n={eventId:t._id,isUpdated:!1,topPlayers:[],topAgents:[]};e.$axios("https://valorantify.com/api/eventstats",{method:"post",data:n}).then((function(e){return e.data})).then((function(t){void 0!==t.code?e.$buefy.snackbar.open(t.message):window.location.reload()}))}})))}))},editTeamsWithEvent:function(){for(var i=0;i<this.teamsToEdit.length;i++)this.$axios("https://valorantify.com/api/teams/"+this.teamsToEdit[i]._id,{method:"patch",data:this.teamsToEdit[i]}).then((function(e){return e.data})).then((function(e){}))}}},_=Object(c.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card",staticStyle:{width:"800px"}},[n("section",{staticClass:"info-tiles",staticStyle:{"margin-top":"50px"}},[n("article",{staticClass:"tile is-child box"},[e._v("\n      "+e._s(e.mode)+"\n      "),n("b-field",{attrs:{label:"Name"}},[n("b-input",{model:{value:e.event.name,callback:function(t){e.$set(e.event,"name",t)},expression:"event.name"}})],1),e._v(" "),n("p",{staticClass:"label"},[e._v("Groups")]),e._v(" "),n("div",{staticStyle:{cursor:"pointer",color:"blue"},on:{click:function(t){return e.event.groups.push([])}}},[e._v("Click to add empty group")]),e._v(" "),e._l(e.event.groups,(function(t,l){return n("div",{key:l},[e._v("\n        "+e._s(l+1)+"\n        "),e._l(t,(function(l){return n("div",{key:l},[e.teamsObj[l]?n("div",[e._v("\n            "+e._s(e.teamsObj[l].name)+" -\n            "),n("span",{staticStyle:{color:"red",cursor:"pointer"},on:{click:function(n){return e.removeTeamGroup(t,l)}}},[e._v("Delete")])]):e._e()])})),e._v(" "),n("br")],2)})),e._v(" "),n("b-field",{attrs:{label:"Group number"}},[n("b-input",{model:{value:e.addTeamGroup.groupNum,callback:function(t){e.$set(e.addTeamGroup,"groupNum",t)},expression:"addTeamGroup.groupNum"}})],1),e._v(" "),n("b-field",{attrs:{label:"Team to add to Group"}},[n("b-select",{attrs:{expanded:"",placeholder:"Select Team"},model:{value:e.addTeamGroup.team,callback:function(t){e.$set(e.addTeamGroup,"team",t)},expression:"addTeamGroup.team"}},e._l(e.teams,(function(t){return n("option",{key:t._id,domProps:{value:t}},[e._v(e._s(t.name))])})),0)],1),e._v(" "),n("div",{staticStyle:{cursor:"pointer",color:"blue"},on:{click:e.addTeamToGroup}},[e._v("Click to add team to group")]),e._v(" "),n("b-field",{staticStyle:{"margin-top":"20px"},attrs:{label:"# of teams advancing per group"}},[n("b-input",{model:{value:e.event.NofTeamsAdvanceInGroup,callback:function(t){e.$set(e.event,"NofTeamsAdvanceInGroup",t)},expression:"event.NofTeamsAdvanceInGroup"}})],1),e._v(" "),n("b-field",{attrs:{label:"Event Details"}},[n("b-input",{staticStyle:{resize:"none","white-space":"pre-wrap","word-wrap":"break-word"},attrs:{type:"textarea"},model:{value:e.event.details,callback:function(t){e.$set(e.event,"details",t)},expression:"event.details"}})],1),e._v(" "),e.event.date?n("b-field",{attrs:{label:"Date From - iso format"}},[n("b-input",{model:{value:e.event.date.from,callback:function(t){e.$set(e.event.date,"from",t)},expression:"event.date.from"}})],1):e._e(),e._v(" "),e.event.date?n("b-field",{attrs:{label:"Date to - iso format"}},[n("b-input",{model:{value:e.event.date.to,callback:function(t){e.$set(e.event.date,"to",t)},expression:"event.date.to"}})],1):e._e(),e._v(" "),n("b-field",{attrs:{label:"Number of teams"}},[n("b-input",{model:{value:e.event.numberOfTeams,callback:function(t){e.$set(e.event,"numberOfTeams",t)},expression:"event.numberOfTeams"}})],1),e._v(" "),n("b-field",{attrs:{label:"Location eg. Europe(Online)"}},[n("b-input",{model:{value:e.event.location,callback:function(t){e.$set(e.event,"location",t)},expression:"event.location"}})],1),e._v(" "),n("b-field",{attrs:{label:"Flag"}},[n("b-select",{attrs:{expanded:"",placeholder:"Select Flag"},model:{value:e.event.flag,callback:function(t){e.$set(e.event,"flag",t)},expression:"event.flag"}},e._l(e.flagOptions,(function(option){return n("option",{key:option.value,domProps:{value:option.value}},[e._v(e._s(option.text))])})),0)],1),e._v(" "),n("b-field",{staticClass:"file"},[n("b-upload",{model:{value:e.event.files,callback:function(t){e.$set(e.event,"files",t)},expression:"event.files"}},[n("a",{staticClass:"button"},[n("b-icon",{attrs:{icon:"upload"}}),e._v(" "),n("span",[e._v("Upload Event Image")])],1)]),e._v(" "),e.event.files?n("span",{staticClass:"file-name"},[e._v(e._s(e.event.files.name))]):e._e()],1),e._v(" "),n("b-button",{on:{click:e.submit}},[e._v("Submit")])],2)])])}),[],!1,null,"42e43970",null).exports,w={name:"AdminEvents",props:{events:{type:Array},teamsObj:{type:Object},teams:{type:Array}},data:function(){return{addEditEvents:!1,showGroups:!1,mode:"",event:{files:[],name:"",details:"",date:{from:"",to:""},teamIds:[],teamsObj:{},img:"",matchIds:[],groups:[],active:!0,activePlayerIds:[],NofTeamsAdvanceInGroup:0,flag:"",location:"",numberOfTeams:0}}},created:function(){},methods:{editEvent:function(e){this.event=e,this.mode="edit",this.addEditEvents=!0},addEvent:function(){this.mode="add",this.addEditEvents=!0}},components:{AddEditEvents:_}},S=(n(751),Object(c.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-two-thirds"},[n("div",{staticClass:"card",staticStyle:{padding:"50px","text-align":"left"}},[n("div",{staticClass:"card-content"},[n("p",{staticClass:"title"},[e._v("Events")]),e._v(" "),n("b-button",{on:{click:e.addEvent}},[e._v("Add Event")]),e._v(" "),n("b-table",{attrs:{paginated:!0,"per-page":5,"mobile-cards":"",data:e.events,striped:!0,hoverable:!0},on:{click:function(t){return e.editEvent(t)}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-table-column",{attrs:{searchable:"",label:"Name",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.name))])]),e._v(" "),n("b-table-column",{attrs:{label:"Groups",field:"name"}},e._l(t.row.groups,(function(t,l){return n("div",{key:l},[e._v("\n                  "+e._s(l+1)+"\n                  "),e._l(t,(function(t){return n("span",{key:t},[e.teamsObj[t]?n("p",[e._v(e._s(e.teamsObj[t].name))]):e._e()])})),e._v(" "),n("br")],2)})),0),e._v(" "),n("b-table-column",{attrs:{label:"Advance in Group",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(" "+e._s(t.row.NofTeamsAdvanceInGroup))])])]}}])})],1)])])]),e._v(" "),n("b-modal",{attrs:{active:e.addEditEvents,"has-modal-card":"","trap-focus":""},on:{"update:active":function(t){e.addEditEvents=t}}},[n("AddEditEvents",{staticStyle:{overflow:"scroll","max-height":"600px"},attrs:{mode:e.mode,teams:e.teams,passedEvent:e.event,teamsObj:e.teamsObj}})],1)],1)}),[],!1,null,"4dc865ea",null).exports),T=(n(151),n(46),n(47),n(19),{name:"AddEditMatch",props:{teams:[],events:{type:Array},passedMatch:{},mode:void 0},data:function(){return{types:["group","Rof16","Rof8","Rof4","final","friendly"],maps:[],match:{teamOneId:"",teamTwoId:"",type:"",maps:[{mapId:"",teamOneScore:"0",teamTwoScore:"0",playerStats:[]}],dateTime:"",event:"",active:!0,hasStats:!1,commentIds:[],streams:[],activePlayerIds:[]},teamOne:void 0,searchOne:"",searchTwo:"",teamTwo:void 0,inputStream:""}},mounted:function(){var e=this;this.passedMatch._id&&(this.match=this.passedMatch),this.$axios("https://valorantify.com/api/gamemaps",{method:"get"}).then((function(e){return e.data})).then((function(t){e.maps=t.data}))},computed:{filteredDataObjOne:function(){var e=this;return this.teams.filter((function(option){return null==e.searchOne&&(e.searchOne=""),option.name.toString().toLowerCase().indexOf(e.searchOne.toLowerCase())>=0}))},filteredDataObjTwo:function(){var e=this;return this.teams.filter((function(option){return null==e.searchTwo&&(e.searchTwo=""),option.name.toString().toLowerCase().indexOf(e.searchTwo.toLowerCase())>=0}))}},methods:{addMap:function(){this.match.maps.push({map:"",teamOneScore:"0",teamTwoScore:"0",playerStatIds:[]})},submit:function(){"edit"===this.mode?this.editMatch():this.addMatch()},addMatch:function(){var e=this;this.match.activePlayerIds=[],this.teamOne.activePlayers.forEach((function(t){e.match.activePlayerIds.push(t._id)})),this.teamTwo.activePlayers.forEach((function(t){e.match.activePlayerIds.push(t._id)})),this.$axios("https://valorantify.com/api/maps",{method:"post",data:this.match.maps[0]}).then((function(e){return e.data})).then((function(t){e.match.mapIds=[t._id],e.$axios("https://valorantify.com/api/matches",{method:"post",data:e.match}).then((function(e){return e.data})).then((function(t){for(var n=[],i=0;i<e.events.length;i++)if(e.events[i]._id===e.match.event){n=e.events[i];break}n.matchIds.push(t._id),n.matches&&delete n.matches,n.teams&&delete n.teams,e.$axios("https://valorantify.com/api/events/"+e.match.event,{method:"patch",data:n}).then((function(e){return e.data})).then((function(e){alert("Match has been created. Either close dialog or create another match!")}))}))}))},editMatch:function(){this.$axios("https://valorantify.com/"+"api/matches/".concat(this.match._id),{method:"patch",data:{streams:this.match.streams,type:this.match.type,dateTime:this.match.dateTime},headers:{"content-type":"application/json"}}).then((function(e){return e.data})).then((function(e){window.location.reload()}))},getTeam:function(e,t){var n=this;1===e?(this.teamOne=void 0,this.$axios("https://valorantify.com/"+"api/teams/".concat(t),{method:"get"}).then((function(e){return e.data})).then((function(e){n.teamOne=e,console.log("team1",n.teamOne)}))):(this.teamTwo=void 0,this.$axios("https://valorantify.com/"+"api/teams/".concat(t),{method:"get"}).then((function(e){return e.data})).then((function(e){n.teamTwo=e})))}}}),P=Object(c.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card",staticStyle:{width:"800px"}},[n("section",{staticClass:"info-tiles",staticStyle:{"margin-top":"50px"}},[n("article",{staticClass:"tile is-child box"},["edit"!==e.mode?n("b-field",{attrs:{label:"Team One"}},[n("b-autocomplete",{attrs:{data:e.filteredDataObjOne,placeholder:"Team One"},on:{select:function(option){e.match.teamOneId=option._id,e.getTeam(1,e.match.teamOneId),e.searchOne=option.name}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.option.name))])]}}],null,!1,4175705887),model:{value:e.searchOne,callback:function(t){e.searchOne=t},expression:"searchOne"}},[e._v(" "),n("template",{slot:"empty"},[e._v("No results found")])],2)],1):e._e(),e._v(" "),void 0!==e.teamOne&&"edit"!==e.mode?n("b-field",{attrs:{label:"Players"}},[e._v("\n        "+e._s(e.teamOne.name)+"\n        "),n("b-select",{attrs:{expanded:"",multiple:"",placeholder:"Select Players"},model:{value:e.teamOne.activePlayers,callback:function(t){e.$set(e.teamOne,"activePlayers",t)},expression:"teamOne.activePlayers"}},e._l(e.teamOne.players,(function(option){return n("option",{key:option._id,domProps:{value:option}},[n("span",[e._v("\n              "+e._s(option.name)+"\n              "),e.teamOne.activePlayerIds.includes(option._id)?e._e():n("p",[e._v("(sub)")])])])})),0)],1):e._e(),e._v(" "),"edit"!==e.mode?n("b-field",{attrs:{label:"Team Two"}},[n("b-autocomplete",{attrs:{data:e.filteredDataObjTwo,placeholder:"Team Two"},on:{select:function(option){e.match.teamTwoId=option._id,e.getTeam(2,e.match.teamTwoId),e.searchTwo=option.name}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.option.name))])]}}],null,!1,4175705887),model:{value:e.searchTwo,callback:function(t){e.searchTwo=t},expression:"searchTwo"}},[e._v(" "),n("template",{slot:"empty"},[e._v("No results found")])],2)],1):e._e(),e._v(" "),void 0!==e.teamTwo&&"edit"!==e.mode?n("b-field",{attrs:{label:"Players"}},[e._v("\n        "+e._s(e.teamTwo.name)+"\n        "),n("b-select",{attrs:{expanded:"",multiple:"",placeholder:"Select Players"},model:{value:e.teamTwo.activePlayers,callback:function(t){e.$set(e.teamTwo,"activePlayers",t)},expression:"teamTwo.activePlayers"}},e._l(e.teamTwo.players,(function(option){return n("option",{key:option._id,domProps:{value:option}},[n("span",[e._v("\n              "+e._s(option.name)+"\n              "),e.teamTwo.activePlayerIds.includes(option._id)?e._e():n("p",[e._v("(sub)")])])])})),0)],1):e._e(),e._v(" "),"edit"!==e.mode?n("b-field",{attrs:{label:"Teams decided"}},[n("b-checkbox",{model:{value:e.match.teamsDecided,callback:function(t){e.$set(e.match,"teamsDecided",t)},expression:"match.teamsDecided"}})],1):e._e(),e._v(" "),n("b-field",{attrs:{label:"Date Time in ISO"}},[n("b-input",{model:{value:e.match.dateTime,callback:function(t){e.$set(e.match,"dateTime",t)},expression:"match.dateTime"}})],1),e._v(" "),n("b-field",{attrs:{label:"Match Type"}},[n("b-select",{attrs:{expanded:"",placeholder:"Select Type"},model:{value:e.match.type,callback:function(t){e.$set(e.match,"type",t)},expression:"match.type"}},e._l(e.types,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)],1),e._v("\n      "+e._s(e.match.streams)+"\n      "),n("b-field",{attrs:{label:"Streams"}},[n("b-input",{model:{value:e.inputStream,callback:function(t){e.inputStream=t},expression:"inputStream"}})],1),e._v(" "),e._l(e.streams,(function(t){return n("div",{key:t},[e._v(e._s(t))])})),e._v(" "),n("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.match.streams.push(e.inputStream),e.inputStream=""}}},[e._v("Click to add Stream!")]),e._v(" "),"edit"!==e.mode?n("b-field",{attrs:{label:"Event"}},[n("b-select",{attrs:{expanded:"",placeholder:"Event"},model:{value:e.match.event,callback:function(t){e.$set(e.match,"event",t)},expression:"match.event"}},e._l(e.events,(function(t){return n("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.name))])})),0)],1):e._e(),e._v(" "),"edit"!==e.mode?n("div",[e._v("\n        Maps\n        "),e._l(e.match.maps,(function(map,t){return n("div",{key:t},[e._v("\n          "+e._s(t+1)+"\n          "),n("b-field",{attrs:{label:"Map name"}},[n("b-select",{attrs:{expanded:"",placeholder:"Select Type"},model:{value:map.mapId,callback:function(t){e.$set(map,"mapId",t)},expression:"map.mapId"}},e._l(e.maps,(function(map){return n("option",{key:map._id,domProps:{value:map._id}},[e._v(e._s(map.name))])})),0)],1)],1)}))],2):e._e(),e._v(" "),n("b-button",{on:{click:e.submit}},[e._v("Submit")])],2)])])}),[],!1,null,"38e7071f",null).exports,I=n(667),k={name:"SwapPlayers",props:{match:{},postSubmissionSwap:void 0},data:function(){return{teamOne:void 0,teamTwo:void 0,teamOneActivePlayersInMatch:[],teamTwoActivePlayersInMatch:[],substitutions:[],swapPlayer:!1,selectedPlayer:void 0,selectedPlayerTeam:void 0,mapToSwap:void 0,newPlayer:void 0}},mounted:function(){this.getTeam(1,this.match.teamOneId),this.getTeam(2,this.match.teamTwoId)},methods:{getTeam:function(e,t){var n=this;1===e?this.$axios("https://valorantify.com/"+"api/teams/".concat(t),{method:"get"}).then((function(e){return e.data})).then((function(e){n.teamOne=e,n.teamOne.players.forEach((function(e){n.match.activePlayerIds.includes(e._id)&&n.teamOneActivePlayersInMatch.push(e)}))})):this.$axios("https://valorantify.com/"+"api/teams/".concat(t),{method:"get"}).then((function(e){return e.data})).then((function(e){n.teamTwo=e,n.teamTwo.players.forEach((function(e){n.match.activePlayerIds.includes(e._id)&&n.teamTwoActivePlayersInMatch.push(e)}))}))},openSwapPlayerModal:function(e,t,map){this.selectedPlayer=e,this.selectedPlayerTeam=t,this.swapPlayer=!0},saveSubstitution:function(e,t,map){this.substitutions.push({originalPlayer:e,newPlayer:t,map:map}),this.swapPlayer=!1},submit:function(){var e=this;if(this.postSubmissionSwap)I.a.eachSeries(this.substitutions,(function(t,n){"all"!=t.map?e.$axios("https://valorantify.com/"+"api/playerStats/?playerId=".concat(t.originalPlayer._id,"&mapId=").concat(t.map),{method:"get"}).then((function(e){return e.data})).then((function(l){void 0!==l.data[0]?e.$axios("https://valorantify.com/"+"api/playerStats/".concat(l.data[0]._id),{method:"patch",headers:{"content-type":"application/json"},data:{playerId:t.newPlayer._id}}).then((function(e){return e.data})).then((function(e){n()})):n()})):I.a.each(e.match.mapIds,(function(map,n){e.$axios("https://valorantify.com/"+"api/playerStats/?playerId=".concat(t.originalPlayer._id,"&mapId=").concat(map),{method:"get"}).then((function(e){return e.data})).then((function(l){void 0!==l.data[0]?e.$axios("https://valorantify.com/"+"api/playerStats/".concat(l.data[0]._id),{method:"patch",headers:{"content-type":"application/json"},data:{playerId:t.newPlayer._id}}).then((function(e){return e.data})).then((function(e){n()})):n()}))}),(function(t){t?e.$buefy.snackbar.open("Error: "+t):n()}))}),(function(t){t?e.$buefy.snackbar.open(t):window.location.reload()}));else{for(var i=0;i<JSON.parse(JSON.stringify(this.substitutions)).length;i++){var t=this.match.activePlayerIds.indexOf(JSON.parse(JSON.stringify(this.substitutions[i])).originalPlayer._id);-1!==t&&(this.match.activePlayerIds[t]=this.substitutions[i].newPlayer._id)}this.$axios("https://valorantify.com/"+"api/matches/".concat(this.match._id),{method:"patch",headers:{"content-type":"application/json"},data:{activePlayerIds:this.match.activePlayerIds}}).then((function(e){return e.data})).then((function(e){window.location.reload()}))}}}},M=Object(c.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card",staticStyle:{width:"800px"}},[n("section",{staticClass:"info-tiles",staticStyle:{"margin-top":"50px"}},[n("article",{staticClass:"tile is-child box"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-half"},[void 0!==e.teamOne?n("p",[e._v(e._s(e.teamOne.name+" players"))]):e._e(),e._v(" "),e._l(e.teamOneActivePlayersInMatch,(function(t){return n("div",{key:t._id},[n("span",[n("p",{staticStyle:{display:"inline-block","margin-right":"10px"}},[e._v(e._s(t.name))]),e._v(" "),e.postSubmissionSwap?n("b-dropdown",{attrs:{"aria-role":"list"},scopedSlots:e._u([{key:"trigger",fn:function(t){var l=t.active;return n("button",{staticClass:"button is-primary"},[n("span",[e._v("Swap map")]),e._v(" "),n("b-icon",{attrs:{icon:l?"menu-up":"menu-down"}})],1)}}],null,!0)},[e._v(" "),e._l(e.match.mapIds,(function(map){return n("div",{key:map},[n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(n){return e.openSwapPlayerModal(t,e.teamOne,map)}}},[e._v(e._s(map))])],1)})),e._v(" "),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(n){return e.openSwapPlayerModal(t,e.teamOne,"all")}}},[e._v("All maps")])],2):n("b-button",{on:{click:function(n){return e.openSwapPlayerModal(t,e.teamOne)}}},[e._v("swap")])],1)])}))],2),e._v(" "),n("div",{staticClass:"column is-half"},[void 0!==e.teamTwo?n("p",[e._v(e._s(e.teamTwo.name+" players"))]):e._e(),e._v(" "),e._l(e.teamTwoActivePlayersInMatch,(function(t){return n("div",{key:t._id},[n("span",[n("p",{staticStyle:{display:"inline-block","margin-right":"10px"}},[e._v(e._s(t.name))]),e._v(" "),e.postSubmissionSwap?n("b-dropdown",{attrs:{"aria-role":"list"},scopedSlots:e._u([{key:"trigger",fn:function(t){var l=t.active;return n("button",{staticClass:"button is-primary"},[n("span",[e._v("Swap map")]),e._v(" "),n("b-icon",{attrs:{icon:l?"menu-up":"menu-down"}})],1)}}],null,!0)},[e._v(" "),e._l(e.match.mapIds,(function(map){return n("div",{key:map},[n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(n){return e.openSwapPlayerModal(t,e.teamTwo,map)}}},[e._v(e._s(map))])],1)})),e._v(" "),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(n){return e.openSwapPlayerModal(t,e.teamTwo,e.map)}}},[e._v("All maps")])],2):n("b-button",{on:{click:function(n){return e.openSwapPlayerModal(t,e.teamTwo)}}},[e._v("swap")])],1)])}))],2)]),e._v(" "),n("b-button",{on:{click:e.submit}},[e._v("Submit")])],1)]),e._v(" "),n("b-modal",{attrs:{active:e.swapPlayer,"has-modal-card":"","trap-focus":""},on:{"update:active":function(t){e.swapPlayer=t}}},[n("div",{staticClass:"modal-card",staticStyle:{width:"800px"}},[void 0!==e.selectedPlayer?n("b-field",{attrs:{label:"Select the player you want to replace "+e.selectedPlayer.name+" with and click Confirm"}},[void 0!==e.selectedPlayerTeam.players?n("b-select",{attrs:{expanded:"",placeholder:"Select Player"},model:{value:e.newPlayer,callback:function(t){e.newPlayer=t},expression:"newPlayer"}},e._l(e.selectedPlayerTeam.players,(function(t){return n("option",{key:t._id,domProps:{value:t}},[e._v(e._s(t.name))])})),0):e._e()],1):e._e(),e._v(" "),n("b-button",{on:{click:function(t){return e.saveSubstitution(e.selectedPlayer,e.newPlayer,e.mapToSwap)}}},[e._v("Confirm selection")])],1)])],1)}),[],!1,null,"6f2d88d0",null).exports,O={name:"SwapPlayers",props:{match:{},postSubmissionSwap:void 0,playerToSwap:{},playerTeamToSwap:{},players:void 0},data:function(){return{teamOne:void 0,teamTwo:void 0,teamOneActivePlayersInMatch:[],teamTwoActivePlayersInMatch:[],substitutions:[],swapPlayer:!1,selectedPlayer:void 0,selectedPlayerTeam:void 0,mapToSwap:void 0,newPlayer:void 0,playerName:"",selectedNewPlayer:void 0}},computed:{filteredDataObj:function(){var e=this;return this.players.filter((function(option){if(null==e.playerName&&(e.playerName=""),option)return option.name.toLowerCase().indexOf(e.playerName.toLowerCase())>=0}))}},mounted:function(){this.playerTeamToSwap&&this.getTeam(this.playerTeamToSwap._id)},methods:{confirmSwap:function(){var e=this;-1===this.playerTeamToSwap.playerIds.indexOf(this.selectedNewPlayer._id)?(this.playerTeamToSwap.playerIds.push(this.selectedNewPlayer._id),this.$axios("https://valorantify.com/"+"api/teams/".concat(this.playerTeamToSwap._id),{method:"patch",headers:{"content-type":"application/json"},data:this.playerTeamToSwap}).then((function(e){return e.data})).then((function(t){e.addPlayerToMatch()}))):this.addPlayerToMatch()},addPlayerToMatch:function(){var e=this.match.activePlayerIds.indexOf(this.playerToSwap._id);e>-1&&this.match.activePlayerIds.splice(e,1),this.match.activePlayerIds.push(this.selectedNewPlayer._id),this.$axios("https://valorantify.com/"+"api/matches/".concat(this.match._id),{method:"patch",headers:{"content-type":"application/json"},data:{activePlayerIds:this.match.activePlayerIds}}).then((function(e){return e.data})).then((function(e){window.location.reload()}))},getTeam:function(e){this.$axios("https://valorantify.com/"+"api/teams/".concat(e),{method:"get"}).then((function(e){return e.data})).then((function(e){console.log(e)}))},openSwapPlayerModal:function(e,t,map){this.selectedPlayer=e,this.selectedPlayerTeam=t,this.swapPlayer=!0},saveSubstitution:function(e,t,map){this.substitutions.push({originalPlayer:e,newPlayer:t,map:map}),this.swapPlayer=!1},submit:function(){var e=this;if(this.postSubmissionSwap)I.a.eachSeries(this.substitutions,(function(t,n){"all"!=t.map?e.$axios("https://valorantify.com/"+"api/playerStats/?playerId=".concat(t.originalPlayer._id,"&mapId=").concat(t.map),{method:"get"}).then((function(e){return e.data})).then((function(l){void 0!==l.data[0]?e.$axios("https://valorantify.com/"+"api/playerStats/".concat(l.data[0]._id),{method:"patch",headers:{"content-type":"application/json"},data:{playerId:t.newPlayer._id}}).then((function(e){return e.data})).then((function(e){n()})):n()})):I.a.each(e.match.mapIds,(function(map,n){e.$axios("https://valorantify.com/"+"api/playerStats/?playerId=".concat(t.originalPlayer._id,"&mapId=").concat(map),{method:"get"}).then((function(e){return e.data})).then((function(l){void 0!==l.data[0]?e.$axios("https://valorantify.com/"+"api/playerStats/".concat(l.data[0]._id),{method:"patch",headers:{"content-type":"application/json"},data:{playerId:t.newPlayer._id}}).then((function(e){return e.data})).then((function(e){n()})):n()}))}),(function(t){t?e.$buefy.snackbar.open("Error: "+t):n()}))}),(function(t){t?e.$buefy.snackbar.open(t):window.location.reload()}));else{for(var i=0;i<JSON.parse(JSON.stringify(this.substitutions)).length;i++){var t=this.match.activePlayerIds.indexOf(JSON.parse(JSON.stringify(this.substitutions[i])).originalPlayer._id);-1!==t&&(this.match.activePlayerIds[t]=this.substitutions[i].newPlayer._id)}this.$axios("https://valorantify.com/"+"api/matches/".concat(this.match._id),{method:"patch",headers:{"content-type":"application/json"},data:{activePlayerIds:this.match.activePlayerIds}}).then((function(e){return e.data})).then((function(e){window.location.reload()}))}}}},$=Object(c.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card",staticStyle:{width:"800px",height:"800px"}},[n("section",{staticClass:"info-tiles",staticStyle:{"margin-top":"50px"}},[n("article",{staticClass:"tile is-child box",staticStyle:{height:"800px"}},[e.playerToSwap?n("div",[e._v("\n        You are swaping\n        "),n("b",{staticStyle:{"font-size":"35px"}},[e._v(e._s(e.playerToSwap.name))])]):e._e(),e._v(" "),e.players?n("b-field",{staticStyle:{"margin-top":"30px"},attrs:{label:"Find a player"}},[n("b-autocomplete",{attrs:{placeholder:"enter player","open-on-focus":!0,data:e.filteredDataObj,field:"name"},on:{select:function(option){return e.selectedNewPlayer=option}},model:{value:e.playerName,callback:function(t){e.playerName=t},expression:"playerName"}})],1):e._e(),e._v(" "),e.selectedNewPlayer?n("div",[e._v("You will be swapping "+e._s(e.playerToSwap.name)+" for "+e._s(e.selectedNewPlayer.name))]):e._e(),e._v(" "),n("b-button",{staticStyle:{"margin-top":"20px"},on:{click:function(t){return e.confirmSwap()}}},[e._v("Swap")])],1)])])}),[],!1,null,"02bb89c4",null).exports,E={name:"AdminMatch",props:{matches:{type:Array},teams:{type:Array},events:{type:Array},players:{type:Array}},data:function(){return{addEditMatchId:"",updatePoints:!1,disableStatsSave:!1,closeGame:!1,addEditMatch:!1,event:void 0,selectedMatch:void 0,selectedMap:void 0,playerStats:[[],[]],playerOne:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},playerTwo:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},playerThree:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},playerFour:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},playerFive:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},playerSix:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},playerSeven:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},playerEight:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},playerNine:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},playerTen:{avgCombatScore:0,kills:0,deaths:0,assists:0,econRating:0,firstBloods:0,plants:0,defuses:0},agents:[],gamemaps:[],swapPlayers:!1,swapSinglePlayer:!1,playerTeamToSwap:void 0,playerToSwap:void 0,matchToSwapPlayers:void 0,match:{teamOneId:"",teamTwoId:"",type:"",maps:[{mapId:"",teamOneScore:"0",teamTwoScore:"0",playerStats:[]}],dateTime:"",event:"",active:!0,hasStats:!1,commentIds:[],activePlayerIds:[]},mode:void 0,postSubmissionSwap:!1}},created:function(){var e=this;this.$axios("https://valorantify.com/api/gamemaps",{method:"get"}).then((function(e){return e.data})).then((function(t){e.gamemaps=t.data})),this.$axios("https://valorantify.com/api/agents",{method:"get"}).then((function(e){return e.data})).then((function(t){e.agents=t.data}))},methods:{finishmap:function(map){var e=this;this.$axios("https://valorantify.com/api/maps/"+map._id,{method:"patch",data:{active:!1}}).then((function(e){return e.data})).then((function(t){e.$buefy.snackbar.open({message:"Map sent",type:"is-success",position:"is-top"})}))},liveScoreUpdate:function(map){var e=this;this.$axios("https://valorantify.com/api/maps/"+map._id,{method:"patch",data:{teamOneScore:map.teamOneScore,teamTwoScore:map.teamTwoScore}}).then((function(e){return e.data})).then((function(t){e.$buefy.snackbar.open({message:"Score sent",type:"is-success",position:"is-top"})}))},mapSelectChanged:function(e){},changeMap:function(map,e){map.mapId=e._id,map.map=e},getPlayerName:function(e){for(var i=0;i<this.teams.length;i++)for(var t=0;t<this.teams[i].players.length;t++)if(this.teams[i].players[t]._id===e)return this.teams[i].players[t].name},addMapToMatch:function(e){var t=this;this.$axios("https://valorantify.com/api/maps",{method:"post",data:{mapId:"5eac70fb7009411af47aa38d",teamOneScore:"0",teamTwoScore:"0",playerStatIds:[]}}).then((function(e){return e.data})).then((function(n){e.mapIds.push(n._id),t.$axios("https://valorantify.com/api/matches/"+e._id,{method:"patch",data:e}).then((function(e){return e.data})).then((function(e){window.location.reload()}))}))},saveMatchStats:function(){var e=this;if(this.disableStatsSave)alert("Cannnot save right now. Did you fuck something up when entering fam.");else{this.disableStatsSave=!0;var t=[];this.playerOne.playerId=this.selectedMatch.activePlayers[0]._id,this.playerOne.eventId=this.selectedMatch.event,this.playerOne.matchId=this.selectedMatch._id,-1!=this.selectedMatch.teamOne.playerIds.indexOf(this.selectedMatch.activePlayers[0]._id)?this.playerOne.teamId=this.selectedMatch.teamOne._id:this.playerOne.teamId=this.selectedMatch.teamTwo._id,this.playerOne.mapId=this.selectedMap,this.$axios("https://valorantify.com/api/playerstats",{method:"post",data:this.playerOne}).then((function(e){return e.data})).then((function(n){t.push(n._id),e.playerTwo.playerId=e.selectedMatch.activePlayers[1]._id,e.playerTwo.eventId=e.selectedMatch.event,e.playerTwo.matchId=e.selectedMatch._id,-1!=e.selectedMatch.teamOne.playerIds.indexOf(e.selectedMatch.activePlayers[1]._id)?e.playerTwo.teamId=e.selectedMatch.teamOne._id:e.playerTwo.teamId=e.selectedMatch.teamTwo._id,e.playerTwo.mapId=e.selectedMap,e.$axios("https://valorantify.com/api/playerstats",{method:"post",data:e.playerTwo}).then((function(e){return e.data})).then((function(n){t.push(n._id),e.playerThree.playerId=e.selectedMatch.activePlayers[2]._id,e.playerThree.eventId=e.selectedMatch.event,e.playerThree.matchId=e.selectedMatch._id,-1!=e.selectedMatch.teamOne.playerIds.indexOf(e.selectedMatch.activePlayers[2]._id)?e.playerThree.teamId=e.selectedMatch.teamOne._id:e.playerThree.teamId=e.selectedMatch.teamTwo._id,e.playerThree.mapId=e.selectedMap,e.$axios("https://valorantify.com/api/playerstats",{method:"post",data:e.playerThree}).then((function(e){return e.data})).then((function(n){t.push(n._id),e.playerFour.playerId=e.selectedMatch.activePlayers[3]._id,e.playerFour.eventId=e.selectedMatch.event,e.playerFour.matchId=e.selectedMatch._id,-1!=e.selectedMatch.teamOne.playerIds.indexOf(e.selectedMatch.activePlayers[3]._id)?e.playerFour.teamId=e.selectedMatch.teamOne._id:e.playerFour.teamId=e.selectedMatch.teamTwo._id,e.playerFour.mapId=e.selectedMap,e.$axios("https://valorantify.com/api/playerstats",{method:"post",data:e.playerFour}).then((function(e){return e.data})).then((function(n){t.push(n._id),e.playerFive.playerId=e.selectedMatch.activePlayers[4]._id,e.playerFive.eventId=e.selectedMatch.event,e.playerFive.matchId=e.selectedMatch._id,-1!=e.selectedMatch.teamOne.playerIds.indexOf(e.selectedMatch.activePlayers[4]._id)?e.playerFive.teamId=e.selectedMatch.teamOne._id:e.playerFive.teamId=e.selectedMatch.teamTwo._id,e.playerFive.mapId=e.selectedMap,e.$axios("https://valorantify.com/api/playerstats",{method:"post",data:e.playerFive}).then((function(e){return e.data})).then((function(n){t.push(n._id),e.playerSix.playerId=e.selectedMatch.activePlayers[5]._id,e.playerSix.eventId=e.selectedMatch.event,e.playerSix.matchId=e.selectedMatch._id,-1!=e.selectedMatch.teamOne.playerIds.indexOf(e.selectedMatch.activePlayers[5]._id)?e.playerSix.teamId=e.selectedMatch.teamOne._id:e.playerSix.teamId=e.selectedMatch.teamTwo._id,e.playerSix.mapId=e.selectedMap,e.$axios("https://valorantify.com/api/playerstats",{method:"post",data:e.playerSix}).then((function(e){return e.data})).then((function(n){t.push(n._id),e.playerSeven.playerId=e.selectedMatch.activePlayers[6]._id,e.playerSeven.eventId=e.selectedMatch.event,e.playerSeven.matchId=e.selectedMatch._id,-1!=e.selectedMatch.teamOne.playerIds.indexOf(e.selectedMatch.activePlayers[6]._id)?e.playerSeven.teamId=e.selectedMatch.teamOne._id:e.playerSeven.teamId=e.selectedMatch.teamTwo._id,e.playerSeven.mapId=e.selectedMap,e.$axios("https://valorantify.com/api/playerstats",{method:"post",data:e.playerSeven}).then((function(e){return e.data})).then((function(n){t.push(n._id),e.playerEight.playerId=e.selectedMatch.activePlayers[7]._id,e.playerEight.eventId=e.selectedMatch.event,e.playerEight.matchId=e.selectedMatch._id,-1!=e.selectedMatch.teamOne.playerIds.indexOf(e.selectedMatch.activePlayers[7]._id)?e.playerEight.teamId=e.selectedMatch.teamOne._id:e.playerEight.teamId=e.selectedMatch.teamTwo._id,e.playerEight.mapId=e.selectedMap,e.$axios("https://valorantify.com/api/playerstats",{method:"post",data:e.playerEight}).then((function(e){return e.data})).then((function(n){t.push(n._id),e.playerNine.playerId=e.selectedMatch.activePlayers[8]._id,e.playerNine.eventId=e.selectedMatch.event,e.playerNine.matchId=e.selectedMatch._id,-1!=e.selectedMatch.teamOne.playerIds.indexOf(e.selectedMatch.activePlayers[8]._id)?e.playerNine.teamId=e.selectedMatch.teamOne._id:e.playerNine.teamId=e.selectedMatch.teamTwo._id,e.playerNine.mapId=e.selectedMap,e.$axios("https://valorantify.com/api/playerstats",{method:"post",data:e.playerNine}).then((function(e){return e.data})).then((function(n){t.push(n._id),e.playerTen.playerId=e.selectedMatch.activePlayers[9]._id,e.playerTen.eventId=e.selectedMatch.event,e.playerTen.matchId=e.selectedMatch._id,-1!=e.selectedMatch.teamOne.playerIds.indexOf(e.selectedMatch.activePlayers[9]._id)?e.playerTen.teamId=e.selectedMatch.teamOne._id:e.playerTen.teamId=e.selectedMatch.teamTwo._id,e.playerTen.mapId=e.selectedMap,e.$axios("https://valorantify.com/api/playerstats",{method:"post",data:e.playerTen}).then((function(e){return e.data})).then((function(n){var l;t.push(n._id);for(var i=0;i<e.selectedMatch.maps.length;i++)if(e.selectedMatch.maps[i]._id===e.selectedMap){l=e.selectedMatch.maps[i];break}l.playerStatIds=t,e.$axios("https://valorantify.com/api/maps/"+l._id,{method:"patch",data:l}).then((function(e){return e.data})).then((function(e){window.location.reload()}))}))}))}))}))}))}))}))}))}))}))}},getPlayerNum:function(e){return 0===e?this.playerOne:1===e?this.playerTwo:2===e?this.playerThree:3===e?this.playerFour:4===e?this.playerFive:5===e?this.playerSix:6===e?this.playerSeven:7===e?this.playerEight:8===e?this.playerNine:9===e?this.playerTen:void 0},getPlayerNumTwo:function(e){return 0===e?this.playerSix:1===e?this.playerSeven:2===e?this.playerEight:3===e?this.playerNine:4===e?this.playerTen:void 0},save:function(e){var t=this;if("true"===this.updatePoints){var n,l,o="";0===this.getWinnerDetails(e.maps).winner?(o="winner","loser",n=e.teamOne,l=e.teamTwo):(o="loser","winner",n=e.teamTwo,l=e.teamOne),n.eventStats[e.event].points+=3,n.eventStats[e.event].groupStageWins++,l.eventStats[e.event].groupStageLoses++;for(var i=0;i<e.maps.length;i++)"loser"===o?(console.log(""),console.log("SCORE",e.maps[i].teamTwoScore),l.eventStats[e.event].groupStageRoundsWon+=parseInt(e.maps[i].teamOneScore),l.eventStats[e.event].groupStageRoundsLost+=parseInt(e.maps[i].teamTwoScore),n.eventStats[e.event].groupStageRoundsWon+=parseInt(e.maps[i].teamTwoScore),n.eventStats[e.event].groupStageRoundsLost+=parseInt(e.maps[i].teamOneScore)):(l.eventStats[e.event].groupStageRoundsWon+=parseInt(e.maps[i].teamTwoScore),l.eventStats[e.event].groupStageRoundsLost+=parseInt(e.maps[i].teamOneScore),n.eventStats[e.event].groupStageRoundsWon+=parseInt(e.maps[i].teamOneScore),n.eventStats[e.event].groupStageRoundsLost+=parseInt(e.maps[i].teamTwoScore));this.$axios("https://valorantify.com/api/teams/"+n._id,{method:"patch",data:n}).then((function(e){return e.data})).then((function(e){void 0!==e.code&&t.$buefy.snackbar.open(e.message)})),this.$axios("https://valorantify.com/api/teams/"+l._id,{method:"patch",data:l}).then((function(e){return e.data})).then((function(e){void 0!==e.code&&t.$buefy.snackbar.open(e.message)}))}this.$axios("https://valorantify.com/api/matches/"+e._id,{method:"patch",data:e}).then((function(e){return e.data})).then((function(e){void 0!==e.code&&t.$buefy.snackbar.open(e.message)}));for(var r=function(n){t.$axios("https://valorantify.com/api/maps/"+e.maps[n]._id,{method:"patch",data:e.maps[n]}).then((function(e){return e.data})).then((function(l){void 0!==l.code?t.$buefy.snackbar.open(l.message):n+1==e.maps.length-1&&t.$buefy.snackbar.open({message:"Data Saved! Refresh to view updated.",type:"is-success",position:"is-top"})}))},c=0;c<e.maps.length;c++)r(c)},getWinnerDetails:function(e){var details={};if(1===e.length)details.teamOneScore=e[0].teamOneScore,details.teamTwoScore=e[0].teamTwoScore,parseInt(details.teamOneScore)>parseInt(details.teamTwoScore)?details.winner=0:details.winner=1;else{for(var t=0,n=0,i=0;i<e.length;i++)parseInt(e[i].teamOneScore)>parseInt(e[i].teamTwoScore)?t+=1:n+=1;details.teamOneScore=t,details.teamTwoScore=n,details.winner=t>n?0:1}return details},findChildPlayoffMatch:function(e,t){var n=this;this.$axios("https://valorantify.com/api/events/"+t+"/?&populateteams=true&populatematches=true",{method:"get",headers:{"content-type":"application/json"}}).then((function(e){return e.data})).then((function(t){if(void 0!==t.code)n.$buefy.snackbar.open(t.message);else{n.event=t;for(var i=0;i<n.event.playoffs.length;i++)for(var l=0;l<n.event.playoffs[i].games.length;l++)n.event.playoffs[i].games[l].match1ID===e._id&&n.updatePlayoffMatch(n.event.playoffs[i].games[l].matchID,0,n.getWinnerDetails(e.maps),e),n.event.playoffs[i].games[l].match2ID===e._id&&n.updatePlayoffMatch(n.event.playoffs[i].games[l].matchID,1,n.getWinnerDetails(e.maps),e)}}))},updatePlayoffMatch:function(e,t,n,l){var o=this,r={};r=0===t&&0===n.winner?{teamOneId:l.teamOneId}:1===t&&0===n.winner?{teamTwoId:l.teamOneId}:0===t&&1===n.winner?{teamOneId:l.teamTwoId}:{teamTwoId:l.teamTwoId},this.$axios("https://valorantify.com/api/matches/"+e,{method:"patch",data:r}).then((function(e){return e.data})).then((function(e){void 0!==e.code&&o.$buefy.snackbar.open(e.message)}))},getAgent:function(img){return img?"https://valorantify.com/"+"api/uploads/agents/".concat(img):"https://valorantify.com/api/uploads/agents/unknown.png"},filterActivePlayers:function(){var e=this;void 0!==this.selectedMatch.activePlayerIds&&(this.selectedMatch.teamOne.playerIds=this.selectedMatch.teamOne.playerIds.filter((function(t){return e.selectedMatch.activePlayerIds.includes(t)})),this.selectedMatch.teamTwo.playerIds=this.selectedMatch.teamTwo.playerIds.filter((function(t){return e.selectedMatch.activePlayerIds.includes(t)})))},swapMatchPlayers:function(e,t){this.matchToSwapPlayers=e,this.swapPlayers=!0,this.postSubmissionSwap=t},swapSingle:function(e,map,t){this.matchToSwapPlayers=e,this.swapSinglePlayer=!0,this.playerToSwap=t,-1!=this.selectedMatch.teamOne.playerIds.indexOf(t._id)?this.playerTeamToSwap=this.selectedMatch.teamOne:this.playerTeamToSwap=this.selectedMatch.teamTwo},editMatch:function(e){this.match=e,this.mode="edit",this.addEditMatch=!0},addMatch:function(e){this.match=e,this.mode="add",this.addEditMatch=!0},addMatchToEdit:function(){var e=this;this.$axios("https://valorantify.com/"+"api/matches/".concat(this.addEditMatchId,"?$sort[dateTime]=-1&populatemaps=true&populatematchplayers=true"),{method:"get",headers:{"content-type":"application/json"}}).then((function(e){return e.data})).then((function(t){e.matches.push(t),alert("match added")}))}},components:{AddEditMatch:P,SwapPlayers:M,SwapSingle:$}},C=Object(c.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-two-thirds"},[n("div",{staticClass:"card",staticStyle:{padding:"50px","text-align":"left"}},[n("div",{staticClass:"card-content"},[n("p",{staticClass:"title"},[e._v("Matches")]),e._v(" "),n("b-button",{on:{click:e.addMatch}},[e._v("Add Match")]),e._v(" "),n("b-field",{staticStyle:{width:"300px"},attrs:{label:"Match ID"}},[n("b-input",{attrs:{placeholder:"ID..."},model:{value:e.addEditMatchId,callback:function(t){e.addEditMatchId=t},expression:"addEditMatchId"}})],1),e._v(" "),n("b-button",{on:{click:e.addMatchToEdit}},[e._v("Edit Score of Finishes Match")]),e._v(" "),n("b-table",{staticStyle:{height:"800px",cursor:"pointer"},attrs:{paginated:!0,"per-page":2,"mobile-cards":"",data:e.matches,striped:!0,hoverable:!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-table-column",{attrs:{searchable:"",label:"Team One",field:"teamOne.name"}},[e._l(t.row.maps,(function(map,l){return n("div",{key:l,staticStyle:{"text-align":"left"}},[n("div",{staticStyle:{"margin-top":"10px","border-color":"black","border-width":"2px","border-style":"solid"}},[e._v("\n                    "+e._s(t.row.teamOne.name)+"\n                    "),n("b-input",{staticStyle:{width:"100px"},model:{value:map.teamOneScore,callback:function(t){e.$set(map,"teamOneScore",t)},expression:"map.teamOneScore"}})],1)])})),e._v(" "),n("p",{on:{click:function(n){return e.addMapToMatch(t.row)}}},[e._v("Click to add map")])],2),e._v(" "),n("b-table-column",{attrs:{searchable:"",label:"Team Two",field:"teamTwo.name"}},[e._l(t.row.maps,(function(map,l){return n("div",{key:l,staticStyle:{"text-align":"left"}},[n("div",{staticStyle:{"margin-top":"10px","border-color":"black","border-width":"2px","border-style":"solid",display:"inline-block"}},[e._v("\n                    "+e._s(t.row.teamTwo.name)+"\n                    "),n("b-input",{staticStyle:{width:"100px"},model:{value:map.teamTwoScore,callback:function(t){e.$set(map,"teamTwoScore",t)},expression:"map.teamTwoScore"}})],1),e._v(" "),n("span",{on:{click:function(t){return e.liveScoreUpdate(map)}}},[e._v("update score")]),n("br"),e._v(" "),n("span",{on:{click:function(t){return e.finishmap(map)}}},[e._v("finish map")])])})),e._v(" "),n("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return e.editMatch(t.row)}}},[e._v("Edit match Details")])],2),e._v(" "),n("b-table-column",{attrs:{label:"Map",field:"mpa"}},e._l(t.row.maps,(function(map,t){return n("div",{key:t,staticStyle:{"text-align":"left"}},[n("div",{staticStyle:{"margin-top":"10px","border-color":"black","border-width":"2px","border-style":"solid"}},e._l(e.gamemaps,(function(t){return n("div",{key:t._id},[map.map._id===t._id?n("span",{staticStyle:{color:"red"}},[e._v(e._s(t.name))]):n("span",{on:{click:function(n){return e.changeMap(map,t)}}},[e._v(e._s(t.name))])])})),0)])})),0),e._v(" "),n("b-table-column",{attrs:{label:"tba"}},e._l(t.row.maps,(function(map,t){return n("div",{key:t,staticStyle:{"text-align":"left"}},[n("div",{staticStyle:{"margin-top":"10px","border-color":"black","border-width":"2px","border-style":"solid"}},[n("b-checkbox",{model:{value:map.tba,callback:function(t){e.$set(map,"tba",t)},expression:"map.tba"}},[e._v(e._s(map.tba))])],1)])})),0),e._v(" "),n("b-table-column",{attrs:{label:"Update Group Points?",field:"grp"}},[n("b-select",{attrs:{placeholder:"Update Group points?"},model:{value:e.updatePoints,callback:function(t){e.updatePoints=t},expression:"updatePoints"}},[n("option",{attrs:{value:"true"}},[e._v("yes")]),e._v(" "),n("option",{attrs:{value:"false",defult:""}},[e._v("no")])])],1),e._v(" "),n("b-table-column",{attrs:{label:"Active?",field:"grp"}},[n("b-select",{attrs:{placeholder:"Active?"},model:{value:t.row.active,callback:function(n){e.$set(t.row,"active",n)},expression:"props.row.active"}},[n("option",{attrs:{value:"true"}},[e._v("yes")]),e._v(" "),n("option",{attrs:{value:"false"}},[e._v("no")])])],1),e._v(" "),n("b-table-column",{attrs:{label:"Swap players",field:"name"}},[n("b-button",{staticStyle:{"margin-top":"20px"},on:{click:function(n){return e.swapMatchPlayers(t.row,!0)}}},[e._v("Swap post-submission")]),e._v(" "),n("b-button",{staticStyle:{"margin-top":"20px"},on:{click:function(n){return e.swapMatchPlayers(t.row,!1)}}},[e._v("Swap pre-submission")])],1),e._v(" "),n("b-table-column",{attrs:{label:"Save",field:"name"}},[n("b-button",{staticStyle:{"margin-top":"20px"},on:{click:function(n){return e.save(t.row)}}},[e._v("Save Match")])],1)]}}])}),e._v(" "),n("div",[n("b-select",{attrs:{placeholder:"Select a Match"},on:{input:function(t){return e.filterActivePlayers()}},model:{value:e.selectedMatch,callback:function(t){e.selectedMatch=t},expression:"selectedMatch"}},e._l(e.matches,(function(t){return n("option",{key:t.id,staticStyle:{color:"white"},domProps:{value:t}},[e._v(e._s(t.teamOne.name)+" vs "+e._s(t.teamTwo.name))])})),0),e._v(" "),e.selectedMatch?n("b-select",{attrs:{placeholder:"Select a Match"},model:{value:e.selectedMap,callback:function(t){e.selectedMap=t},expression:"selectedMap"}},e._l(e.selectedMatch.maps,(function(map,t){return n("option",{key:t,staticStyle:{color:"white"},domProps:{value:map._id}},[e._v(e._s(map.map))])})),0):e._e(),e._v("\n            "+e._s(e.index)+"\n          ")],1),e._v(" "),e.selectedMatch?n("div",{staticStyle:{"margin-top":"10px"}},[e._l(e.selectedMatch.activePlayers,(function(t,l){return n("div",{key:t},[n("span",{staticStyle:{color:"#ff4653",cursor:"pointer"},on:{click:function(n){return e.swapSingle(e.selectedMatch,e.map,t)}}},[e._v("Click to swap this player")]),e._v(" "),n("br"),e._v("\n              "+e._s(t.name)+"\n              "),n("b-select",{attrs:{placeholder:"Agent"},model:{value:e.getPlayerNum(l).agentId,callback:function(t){e.$set(e.getPlayerNum(l),"agentId",t)},expression:"getPlayerNum(index).agentId"}},e._l(e.agents,(function(t,l){return n("option",{key:l,staticStyle:{color:"white"},domProps:{value:t._id}},[n("div",{staticStyle:{width:"25px",height:"25px",overflow:"hidden",display:"inline-block","text-align":"left"}},[n("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.getAgent(t.img)}})]),e._v("\n                  "+e._s(t.name)+"\n                ")])})),0),e._v(" "),n("b-input",{staticStyle:{width:"80px",display:"inline-block",color:"white","margin-left":"20px"},attrs:{value:"0",placeholder:"ACS"},model:{value:e.getPlayerNum(l).avgCombatScore,callback:function(t){e.$set(e.getPlayerNum(l),"avgCombatScore",t)},expression:"getPlayerNum(index).avgCombatScore"}}),e._v(" "),n("b-input",{staticStyle:{width:"80px",display:"inline-block",color:"white","margin-left":"20px"},attrs:{placeholder:"kills"},model:{value:e.getPlayerNum(l).kills,callback:function(t){e.$set(e.getPlayerNum(l),"kills",t)},expression:"getPlayerNum(index).kills"}}),e._v(" "),n("b-input",{staticStyle:{width:"80px",display:"inline-block",color:"white","margin-left":"20px"},attrs:{placeholder:"deaths"},model:{value:e.getPlayerNum(l).deaths,callback:function(t){e.$set(e.getPlayerNum(l),"deaths",t)},expression:"getPlayerNum(index).deaths"}}),e._v(" "),n("b-input",{staticStyle:{width:"80px",display:"inline-block",color:"white","margin-left":"20px"},attrs:{placeholder:"assists"},model:{value:e.getPlayerNum(l).assists,callback:function(t){e.$set(e.getPlayerNum(l),"assists",t)},expression:"getPlayerNum(index).assists"}}),e._v(" "),n("b-input",{staticStyle:{width:"80px",display:"inline-block",color:"white","margin-left":"20px"},attrs:{placeholder:"econ"},model:{value:e.getPlayerNum(l).econRating,callback:function(t){e.$set(e.getPlayerNum(l),"econRating",t)},expression:"getPlayerNum(index).econRating"}}),e._v(" "),n("b-input",{staticStyle:{width:"80px",display:"inline-block",color:"white","margin-left":"20px"},attrs:{placeholder:"FB"},model:{value:e.getPlayerNum(l).firstBloods,callback:function(t){e.$set(e.getPlayerNum(l),"firstBloods",t)},expression:"getPlayerNum(index).firstBloods"}}),e._v(" "),n("b-input",{staticStyle:{width:"80px",display:"inline-block",color:"white","margin-left":"20px"},attrs:{placeholder:"plants"},model:{value:e.getPlayerNum(l).plants,callback:function(t){e.$set(e.getPlayerNum(l),"plants",t)},expression:"getPlayerNum(index).plants"}}),e._v(" "),n("b-input",{staticStyle:{width:"80px",display:"inline-block",color:"white","margin-left":"20px"},attrs:{placeholder:"defuses"},model:{value:e.getPlayerNum(l).defuses,callback:function(t){e.$set(e.getPlayerNum(l),"defuses",t)},expression:"getPlayerNum(index).defuses"}}),e._v(" "),n("div",{staticStyle:{width:"800px",height:"5px","background-color":"black","margin-top":"5px"}}),e._v(" "),n("br")],1)})),e._v(" "),n("br"),e._v(" "),n("p",{staticStyle:{color:"red",cursor:"pointer"},on:{click:e.saveMatchStats}},[e._v("Click to Save Match")])],2):e._e()],1)])])]),e._v(" "),n("b-modal",{attrs:{active:e.addEditMatch,"has-modal-card":"","trap-focus":""},on:{"update:active":function(t){e.addEditMatch=t}}},[n("AddEditMatch",{staticStyle:{overflow:"scroll","max-height":"600px"},attrs:{events:e.events,teams:e.teams,passedMatch:e.match,mode:e.mode}})],1),e._v(" "),n("b-modal",{attrs:{active:e.swapPlayers,"has-modal-card":"","trap-focus":""},on:{"update:active":function(t){e.swapPlayers=t}}},[n("SwapPlayers",{staticStyle:{overflow:"scroll","max-height":"800px"},attrs:{match:e.matchToSwapPlayers,postSubmissionSwap:e.postSubmissionSwap}})],1),e._v(" "),n("b-modal",{attrs:{active:e.swapSinglePlayer,"has-modal-card":"","trap-focus":""},on:{"update:active":function(t){e.swapSinglePlayer=t}}},[n("SwapSingle",{staticStyle:{overflow:"scroll",height:"800px"},attrs:{players:e.players,match:e.matchToSwapPlayers,playerToSwap:e.playerToSwap,playerTeamToSwap:e.playerTeamToSwap}})],1)],1)}),[],!1,null,"c5345002",null).exports,N={name:"Admin",props:{type:String},data:function(){return{authenticated:!1,addEditPlayers:!1,mode:"",players:[],teams:[],events:[],matches:[],eventsObj:{},teamsObj:{},player:{name:"",realName:{first:"",last:""},nationality:"",socials:{twitter:"",twitch:""},files:[],team:" ",img:""}}},mounted:function(){this.$aes.setKey("SECURE_VAL_PW");var e=localStorage.getItem("auth");if(e){var t=JSON.parse(this.$aes.decrypt(e));t&&-1!==t.permissions.indexOf("admin")?this.authenticated=!0:this.$router.push({path:"/"})}this.fetchPlayers(0),this.fetchTeams(0),this.fetchEvents(0),this.fetchMatches(0)},methods:{fetchPlayers:function(e){var t=this;this.$axios("https://valorantify.com/"+"api/players?$skip=".concat(e),{method:"get"}).then((function(e){return e.data})).then((function(n){var o;(o=t.players).push.apply(o,Object(l.a)(n.data)),n.total>n.limit&&e<n.total&&(e+=n.limit,t.fetchPlayers(e))}))},fetchTeams:function(e){var t=this;this.$axios("https://valorantify.com/"+"api/teams?$skip=".concat(e),{method:"get"}).then((function(e){return e.data})).then((function(n){var o;(o=t.teams).push.apply(o,Object(l.a)(n.data));for(var i=0;i<n.data.length;i++)t.teamsObj[n.data[i]._id]=n.data[i];n.total>n.limit&&e<n.total&&(e+=n.limit,t.fetchTeams(e))}))},fetchEvents:function(e){var t=this;this.$axios("https://valorantify.com/"+"api/events?$skip=".concat(e,"&populateteams=true&populatematches=true&active=true"),{method:"get",headers:{"content-type":"application/json"}}).then((function(e){return e.data})).then((function(n){var o;(o=t.events).push.apply(o,Object(l.a)(n.data));for(var i=0;i<n.data.length;i++)t.eventsObj[n.data[i]._id]=n.data[i];n.total>n.limit&&e<n.total&&(e+=n.limit,t.fetchEvents(e))}))},fetchMatches:function(e){var t=this;this.$axios("https://valorantify.com/"+"api/matches?$sort[dateTime]=-1&$skip=".concat(e,"&active=true&populatemaps=true&populatematchplayers=true"),{method:"get",headers:{"content-type":"application/json"}}).then((function(e){return e.data})).then((function(n){var o;(o=t.matches).push.apply(o,Object(l.a)(n.data)),n.total>n.limit&&e<n.total&&(e+=n.limit,t.fetchMatches(e))}))},editPlayer:function(e){this.player=e,this.mode="edit",this.addEditPlayers=!0},addPlayer:function(e){this.player=e,this.mode="add",this.addEditPlayers=!0}},components:{AddEditPlayers:d,Teams:f,Events:S,Matches:C}},A=(n(753),Object(c.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.authenticated?n("div",{staticClass:"hello"},[n("h1",{staticStyle:{"font-size":"50px","margin-bottom":"20px"}},[e._v("Admin")]),e._v(" "),n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-two-thirds"},[n("div",{staticClass:"card",staticStyle:{padding:"50px","text-align":"left"}},[n("div",{staticClass:"card-content"},[n("p",{staticClass:"title"},[e._v("Players")]),e._v(" "),n("b-button",{on:{click:e.addPlayer}},[e._v("Add Player")]),e._v(" "),n("b-table",{staticStyle:{height:"600px",cursor:"pointer"},attrs:{paginated:!0,"per-page":10,"mobile-cards":"",data:e.players,striped:!0,hoverable:!0},on:{click:function(t){return e.editPlayer(t)}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-table-column",{attrs:{searchable:"",label:"IGN",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.name))])]),e._v(" "),n("b-table-column",{attrs:{label:"First Name",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.realName.first))])]),e._v(" "),n("b-table-column",{attrs:{label:"Last Name",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.realName.last))])]),e._v(" "),n("b-table-column",{attrs:{label:"Twitter",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.socials.twitter))])]),e._v(" "),n("b-table-column",{attrs:{label:"Twitch",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.socials.twitch))])]),e._v(" "),n("b-table-column",{attrs:{label:"Nationality",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.nationality))])]),e._v(" "),n("b-table-column",{attrs:{label:"Team",field:"name"}},[n("div",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.team))])])]}}],null,!1,3371832069)})],1)])])]),e._v(" "),n("Teams",{attrs:{players:e.players,teams:e.teams,events:e.eventsObj}}),e._v(" "),n("Events",{attrs:{events:e.events,teamsObj:e.teamsObj,teams:e.teams}}),e._v(" "),n("Matches",{attrs:{matches:e.matches,teams:e.teams,events:e.events,players:e.players}}),e._v(" "),n("b-modal",{attrs:{active:e.addEditPlayers,"has-modal-card":"","trap-focus":""},on:{"update:active":function(t){e.addEditPlayers=t}}},[n("AddEditPlayers",{attrs:{passedPlayer:e.player,mode:e.mode}})],1)],1):e._e()}),[],!1,null,"49641ff6",null).exports),j={layout:"OnlyNav",name:"Admin",props:{type:String},data:function(){return{}},mounted:function(){},methods:{},components:{AdminComponent:A}},G=(n(755),Object(c.a)(j,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello",staticStyle:{width:"100%"}},[t("AdminComponent")],1)}),[],!1,null,"34367df9",null));t.default=G.exports}}]);