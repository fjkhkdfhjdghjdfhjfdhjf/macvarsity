{"version":3,"file":"pages/news/_id/_slug.js","sources":["webpack:///./pages/news/_id/_slug.vue?3e4f","webpack:///./pages/news/_id/_slug.vue?94b6","webpack:///./pages/news/_id/_slug.vue?5ed3","webpack:///./pages/news/_id/_slug.vue?a5a6","webpack:///./pages/news/_id/_slug.vue","webpack:///./pages/news/_id/_slug.vue?1562","webpack:///./pages/news/_id/_slug.vue?124f","webpack:///./components/Comments/CommentTree.vue?bd35","webpack:///./components/Comments/Comments.vue?96b5","webpack:///./components/Comments/CommentTree.vue?b349","webpack:///./components/Comments/CommentTree.vue?9c96","webpack:///./components/Comments/Comments.vue?dccb","webpack:///./components/Comments/Comments.vue?dfaf","webpack:///./components/Comments/Comments.vue?a611","webpack:///./components/Comments/CommentTree.vue?2b50","webpack:///./store.js","webpack:///./components/Comments/CommentTree.vue","webpack:///./components/Comments/CommentTree.vue?4f20","webpack:///./components/Comments/CommentTree.vue?fed4","webpack:///./components/Comments/Comments.vue","webpack:///./components/Comments/Comments.vue?44e4","webpack:///./components/Comments/Comments.vue?6781"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_slug.vue?vue&type=style&index=0&id=47f8b838&scoped=true&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"5fb18c96\", content, true, context)\n};","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_slug.vue?vue&type=style&index=0&id=47f8b838&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_slug.vue?vue&type=style&index=0&id=47f8b838&scoped=true&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".type-button[data-v-47f8b838]{width:150px}.button[data-v-47f8b838]{margin-top:20px;margin-bottom:20px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_vm._ssrNode(\"<h1 style=\\\"font-size:50px;margin-bottom:20px\\\" data-v-47f8b838>News</h1> \"),_vm._ssrNode(\"<div class=\\\"columns is-centered\\\" data-v-47f8b838>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"column is-full\\\" data-v-47f8b838>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"card\\\" data-v-47f8b838>\",\"</div>\",[(_vm.news)?_vm._ssrNode(\"<div class=\\\"card-content\\\" data-v-47f8b838>\",\"</div>\",[_vm._ssrNode(\"<p class=\\\"title\\\" data-v-47f8b838>\"+_vm._ssrEscape(_vm._s(_vm.news.title))+\"</p> <div class=\\\"columns is-mobile\\\" data-v-47f8b838><div class=\\\"column\\\" style=\\\"text-align:left\\\" data-v-47f8b838>\\n              By\\n              <span style=\\\"color:#ff726f;cursor:pointer;\\\" data-v-47f8b838>\"+_vm._ssrEscape(_vm._s(_vm.news.author))+\"</span></div> <div class=\\\"column\\\" style=\\\"text-align:right\\\" data-v-47f8b838><p data-v-47f8b838>\"+_vm._ssrEscape(_vm._s(_vm.formatDate(_vm.news.date)))+\"</p></div></div> <div style=\\\"background-color:#ff726f;height:1px;width:100%;padding:0px\\\" data-v-47f8b838></div> \"),_vm._ssrNode(\"<div class=\\\"columns\\\" style=\\\"margin-top:10px\\\" data-v-47f8b838>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"column\\\" data-v-47f8b838>\",\"</div>\",[_vm._ssrNode(\"<div style=\\\"text-align:left\\\" data-v-47f8b838>\",\"</div>\",[_vm._ssrNode(\"<p data-v-47f8b838>\",\"</p>\",[_c('vue-markdown',[_vm._v(_vm._s(_vm.news.details))])],1)])])])],2):_vm._e()]),_vm._ssrNode(\" \"),(_vm.news)?_vm._ssrNode(\"<div class=\\\"columns is-centered is-mobile comment-mobile\\\" style=\\\"margin-top:10px\\\" data-v-47f8b838>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"column is-five-fifths\\\" data-v-47f8b838>\",\"</div>\",[_c('Comments',{staticStyle:{\"font-size\":\"16px\",\"text-align\":\"center\"},attrs:{\"id\":_vm.$route.params.id,\"pageData\":_vm.news,\"type\":\"news\",\"commentsArray\":_vm.news.comments}})],1)]):_vm._e()],2)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport VueMarkdown from \"vue-markdown\";\r\nimport Comments from \"../../../components/Comments/Comments\";\r\nimport axios from 'axios'\r\nconst moment = require(\"moment\");\r\nexport default {\r\n  name: \"Characters\",\r\n  props: {\r\n    type: String\r\n  },\r\n  async asyncData ({ params }) {\r\n    const { data } = await axios(\r\n      process.env.baseUrl +\r\n        \"api/news/\" +\r\n        params.id +\r\n        \"?&populatecomments=true\",\r\n      {\r\n        method: \"get\"\r\n      }\r\n    )\r\n    return { news: data }\r\n  },\r\n  data() {\r\n    return {\r\n      news: {\r\n        title: \"\",\r\n        details: \"\",\r\n        img: \"\"\r\n      }\r\n    };\r\n  },\r\n  head() {\r\n      return {\r\n        meta: [\r\n          {\r\n            hid: \"twittercard\",\r\n            name: \"twitter:card\",\r\n            content: \"summary_large_image\"\r\n          },\r\n          {\r\n            hid: \"twittertitle\",\r\n            name: \"twitter:title\",\r\n            content: this.news.title\r\n          },\r\n          {\r\n            hid: \"twitterd\",\r\n            name: \"twitter:description\",\r\n            content: \"Valorant news posting!\"\r\n          },\r\n          // image must be an absolute path\r\n          {\r\n            hid: \"twitterimg\",\r\n            name: \"twitter:image\",\r\n            content: this.news.img\r\n          }\r\n        ]\r\n      };\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    navNews(id) {\r\n      this.$router.push({ path: `/news/${id}` });\r\n    },\r\n    navAuthor() {\r\n      window.open(this.news.authorLink, \"_blank\");\r\n    },\r\n    formatDate(dateTime) {\r\n      const utc = moment.utc(dateTime);\r\n      var localDate = utc.local();\r\n      return moment(localDate).format(\"MMMM DD, YYYY\");\r\n    }\r\n  },\r\n  components: { VueMarkdown, Comments }\r\n};\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_slug.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_slug.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_slug.vue?vue&type=template&id=47f8b838&scoped=true&\"\nimport script from \"./_slug.vue?vue&type=script&lang=js&\"\nexport * from \"./_slug.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./_slug.vue?vue&type=style&index=0&id=47f8b838&scoped=true&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"47f8b838\",\n  \"85c6197a\"\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentTree.vue?vue&type=style&index=0&id=b65923e2&scoped=true&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"40dc02dd\", content, true, context)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=579851e6&scoped=true&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"6e88058f\", content, true, context)\n};","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentTree.vue?vue&type=style&index=0&id=b65923e2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentTree.vue?vue&type=style&index=0&id=b65923e2&scoped=true&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".table thead[data-v-b65923e2]{display:none}.table td[data-v-b65923e2],.table th[data-v-b65923e2]{border-bottom:1px solid #ff726f!important;border-width:0 0 1px}@media screen and (max-width:640px){.comment-mobile[data-v-b65923e2]{text-align:left}.icon-comment[data-v-b65923e2]{margin-right:10px}}.admin[data-v-b65923e2]{color:#90ee90}.moderator[data-v-b65923e2]{color:#87ceeb}.input-box[data-v-b65923e2]{display:flex;align-items:center;justify-content:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=579851e6&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=579851e6&scoped=true&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".textarea[data-v-579851e6]{resize:none!important}@media screen and (max-width:640px){.comment-mobile[data-v-579851e6]{text-align:left}.word-mobile[data-v-579851e6]{width:350px}}.admin[data-v-579851e6]{color:green}.bkg-highlight[data-v-579851e6]{background-color:#171e29;border:1px solid #8c67ef!important}.table thead[data-v-579851e6]{display:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.loading)?_c('div',{staticClass:\"card\",staticStyle:{\"padding\":\"0px\"}},[_vm._ssrNode(\"<div class=\\\"card-content\\\" style=\\\"padding:0px\\\" data-v-579851e6>\",\"</div>\",[_vm._ssrNode(\"<p style=\\\"text-align:left;padding:15px;font-size:18px;padding-bottom:0px\\\" data-v-579851e6>\",\"</p>\",[_c('vue-markdown',[_vm._v(\"Comments\")])],1),_vm._ssrNode(\" \"),_c('CommentTree',{attrs:{\"comment\":_vm.commentsArray,\"depth\":0,\"parent\":_vm.commentsArray,\"id\":_vm.id,\"type\":_vm.type,\"pageData\":_vm.pageData,\"newUser\":_vm.newUser}}),_vm._ssrNode(\" \"),(_vm.auth)?_vm._ssrNode(\"<div data-v-579851e6>\",\"</div>\",[_vm._ssrNode(((_vm.replyComment)?(\"<div style=\\\"text-align:left;margin-left:20px;\\\" data-v-579851e6>\\n        You are replying to:\\n        <span style=\\\"font-weight:bold\\\" data-v-579851e6>\"+_vm._ssrEscape(_vm._s(_vm.replyComment.user.username)+\" - \"+_vm._s(_vm.replyComment._id.slice(-2).toUpperCase()))+\"</span> <i class=\\\"fas fa-times\\\" style=\\\"color:red; margin-left:20px;cursor:pointer\\\" data-v-579851e6></i></div>\"):\"<!---->\")+\" \"),_c('b-field',{staticStyle:{\"padding\":\"10px\"},attrs:{\"label\":\"Leave a Comment\"}},[_c('b-input',{staticStyle:{\"resize\":\"none\",\"white-space\":\"pre-wrap\",\"word-wrap\":\"break-word\"},attrs:{\"maxlength\":\"1500\",\"type\":\"textarea\",\"icon-right\":\"emoticon-outline\",\"icon-right-clickable\":\"\"},on:{\"icon-right-click\":_vm.toogleDialogEmoji},model:{value:(_vm.comment.text),callback:function ($$v) {_vm.$set(_vm.comment, \"text\", $$v)},expression:\"comment.text\"}})],1),_vm._ssrNode(\" \"),_c('VEmojiPicker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDialog),expression:\"showDialog\"}],staticStyle:{\"background-color\":\"#273142\",\"position\":\"absolute\",\"right\":\"0\",\"display\":\"block\",\"margin-top\":\"-100px\",\"z-index\":\"1000\"},on:{\"select\":_vm.selectEmoji}}),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div data-v-579851e6>\",\"</div>\",[_c('b-button',{staticStyle:{\"background-color\":\"#ff726f\",\"margin-top\":\"-30px\"},attrs:{\"id\":\"test\",\"disabled\":_vm.buttonDisabled},on:{\"click\":_vm.submitComment}},[_vm._v(\"Submit\")])],1),_vm._ssrNode(\" <div data-v-579851e6>\"+((_vm.showUnacceptableCommentMssg)?(\"<p style=\\\"color:red\\\" data-v-579851e6>Sorry this message is not allowed.</p>\"):\"<!---->\")+\"</div>\")],2):_vm._e(),_vm._ssrNode(\" \"+((!_vm.auth)?(\"<div style=\\\"margin-top:20px;font-weight:bold\\\" data-v-579851e6><span style=\\\"cursor:pointer;color:#ff726f\\\" data-v-579851e6>LOGIN</span> or\\n      <span style=\\\"cursor:pointer;color:#ff726f\\\" data-v-579851e6>REGISTER</span> to comment!\\n    </div>\"):\"<!---->\"))],2)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.loading)?_c('div',{key:_vm.inc},[(!_vm.comment)?_vm._ssrNode(\"<div style=\\\"text-align:left;padding:20px\\\" data-v-b65923e2>\",\"</div>\",[_c('b-skeleton',{attrs:{\"width\":\"20%\",\"animated\":true}}),_vm._ssrNode(\" \"),_c('b-skeleton',{attrs:{\"width\":\"40%\",\"animated\":true}}),_vm._ssrNode(\" \"),_c('b-skeleton',{attrs:{\"width\":\"80%\",\"animated\":true}}),_vm._ssrNode(\" \"),_c('b-skeleton',{attrs:{\"animated\":true}})],2):_vm._e(),_vm._ssrNode(\" \"),(_vm.comment)?_c('b-table',{staticStyle:{\"padding-top\":\"0px\",\"border\":\"0px solid #dbdbdb\"},attrs:{\"mobile-cards\":false,\"data\":_vm.comment,\"striped\":true,\"hoverable\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticStyle:{\"margin-top\":\"5px\"}}),_vm._v(\" \"),_c('b-table-column',{staticStyle:{\"display\":\"block\",\"padding-top\":\"0px\",\"background-color\":\"#202836\"},style:({'margin-left':_vm.depth*20 + 'px',width:'100%'-500+'px','margin-top':_vm.depth==0?'0px':'-16px'}),attrs:{\"field\":\"id\"}},[(props.row.type)?_c('div',{staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"newComment\"}},[_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('b-input',{staticStyle:{\"resize\":\"none\",\"white-space\":\"pre-wrap\",\"word-wrap\":\"break-word\",\"height\":\"150px\"},attrs:{\"maxlength\":\"1500\",\"type\":\"textarea\",\"icon-right\":\"emoticon-outline\",\"icon-right-clickable\":\"\"},on:{\"icon-right-click\":_vm.toogleDialogEmoji},model:{value:(_vm.newComment.text),callback:function ($$v) {_vm.$set(_vm.newComment, \"text\", $$v)},expression:\"newComment.text\"}})],1),_vm._v(\" \"),_c('VEmojiPicker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDialog),expression:\"showDialog\"}],staticStyle:{\"background-color\":\"#273142\",\"position\":\"absolute\",\"right\":\"0\",\"display\":\"block\",\"margin-top\":\"-100px\",\"z-index\":\"1000\"},on:{\"select\":_vm.selectEmoji}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"20px\"}},[_c('b-button',{staticStyle:{\"background-color\":\"#ff726f\",\"margin-top\":\"-100px+\"},attrs:{\"id\":\"test\",\"disabled\":_vm.buttonDisabled},on:{\"click\":_vm.submitComment}},[_vm._v(\"Reply\")])],1),_vm._v(\" \"),_c('div',[(_vm.showUnacceptableCommentMssg)?_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Sorry this message is not allowed.\")]):_vm._e()])],1):_vm._e(),_vm._v(\" \"),(props.row.type === undefined)?_c('div',[_c('div',{staticClass:\"comment-mobile\"},[(props.row.user && props.row.user.flag !== '')?_c('span',[_c('country-flag',{staticStyle:{\"vertical-align\":\"-15px\",\"margin-left\":\"-20px\",\"margin-right\":\"-5px\"},attrs:{\"country\":props.row.user.flag,\"size\":\"normal\"}})],1):_vm._e(),_vm._v(\" \"),(!props.row.user || props.row.user.flag === '')?_c('span',[_c('country-flag',{staticStyle:{\"vertical-align\":\"-15px\",\"margin-left\":\"-20px\",\"margin-right\":\"-5px\"},attrs:{\"country\":\"un\",\"size\":\"normal\"}})],1):_vm._e(),_vm._v(\" \"),_c('b',{class:_vm.isAdmin(props.row.user),staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.navUser(props.row.user._id)}}},[_vm._v(_vm._s(props.row.user.username))]),_vm._v(\" \"),(props.row.user.favPlayer && props.row.user.favPlayer.name)?_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(\"\\n              |\\n              \"),_c('span',{staticStyle:{\"opacity\":\"0.8\"}},[_c('b-icon',{staticStyle:{\"color\":\"#ff726f\"},attrs:{\"icon\":\"heart\",\"size\":\"is-small\"}}),_vm._v(\"\\n                \"+_vm._s(props.row.user.favPlayer.name)+\"\\n              \")],1)]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"word-mobile\",staticStyle:{\"word-wrap\":\"break-word\"}},[(props.row.replyComment)?_c('span',{staticStyle:{\"color\":\"#8c67ef\",\"cursor\":\"pointer\",\"max-width\":\"200px\",\"word-wrap\":\"break-word\"},on:{\"click\":function($event){_vm.selectedReply = props.row.replyComment;_vm.clickAt(props.row.replyComment)}}},[_vm._v(\"@\"+_vm._s(_vm.getComment(props.row.replyComment).user.username))]):_vm._e(),_vm._v(\" \"),(props.row.isRemoved && props.row.isRemoved===true)?_c('div',[_c('p',{staticStyle:{\"color\":\"red\"}},[_c('i',[_vm._v(\"This comment has been deleted\")])])]):_vm._e(),_vm._v(\" \"),(props.row.isRemoved == undefined || props.row.isRemoved!==true)?_c('div',[_c('vue-markdown',{attrs:{\"html\":false}},[_vm._v(_vm._s(props.row.text))])],1):_vm._e()]),_vm._v(\" \"),(_vm.newUser)?_c('div',{staticStyle:{\"margin-right\":\"12px\"}},[(_vm.newUser.permissions.includes('moderator') && (props.row.isRemoved == undefined || props.row.isRemoved!==true) )?_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('b-icon',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"icon\":\"delete\",\"size\":\"is-primary\"},nativeOn:{\"click\":function($event){return _vm.deleteComment(props.row)}}})],1):_vm._e()]):_vm._e(),_vm._v(\" \"),(props.row.isRemoved == undefined || props.row.isRemoved!==true)?_c('div',[_c('div',{staticClass:\"icon-comment\",staticStyle:{\"font-size\":\"11px\",\"text-align\":\"right\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.reply(props.row,_vm.depth)}}},[_c('b-icon',{attrs:{\"icon\":\"message-reply-text\"}}),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.formatDate(props.row.createdAt)))])],1)]):_vm._e(),_vm._v(\" \"),(props.row.isRemoved && props.row.isRemoved===true)?_c('div',{staticStyle:{\"font-size\":\"11px\",\"text-align\":\"right\"}},[_vm._v(_vm._s(_vm.formatDate(props.row.createdAt)))]):_vm._e()]):_vm._e()]),_vm._v(\" \"),(props.row.replies && props.row.replies.length)?_c('div',_vm._l((props.row.replies),function(childComment,index){return _c('node',{key:index,attrs:{\"comment\":[childComment],\"parent\":_vm.comment,\"index\":index,\"depth\":_vm.depth+1,\"pageData\":_vm.pageData,\"type\":_vm.type,\"id\":_vm.id,\"newUser\":_vm.newUser}})}),1):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"3px\"}})]}}],null,false,868206482)}):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    auth: process.browser && localStorage.getItem('auth') || '',\r\n    user : {},\r\n    comment: {}\r\n  },\r\n  mutations: {\r\n    auth_success(state, auth){\r\n      state.auth = auth\r\n      state.user = auth.user\r\n    },\r\n    logout(state){\r\n      state.auth = ''\r\n      state.user = ''\r\n    },\r\n    changeComment(state, comment){\r\n      state.comment = comment\r\n    }\r\n  },\r\n  actions: {\r\n    ChangeComment({commit}, comment){\r\n      commit('changeComment', comment)\r\n    }\r\n  },\r\n  getters : {\r\n    getComment: state => state.comment,\r\n    userRole: state=>{\r\n        if(state.auth == ''){\r\n            return null\r\n        }\r\n        if(state.auth.user.permissions === 0){\r\n            return \"user\"\r\n        }\r\n        if(state.auth.user.permissions[0] === \"admin\"){\r\n            return \"admin\"\r\n        }\r\n    }\r\n  }\r\n})","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport VueMarkdown from \"vue-markdown\";\r\nimport VEmojiPicker from \"v-emoji-picker\";\r\nimport store from \"../../store.js\";\r\n\r\nconst moment = require(\"moment\");\r\n\r\nexport default {\r\n  name: \"node\",\r\n  props: {\r\n    comment: Array,\r\n    depth: Number,\r\n    parent: Array,\r\n    index: Number,\r\n    id: String,\r\n    type: String,\r\n    pageData: Object,\r\n    newUser: Object\r\n  },\r\n  data() {\r\n    return {\r\n      inc: 0,\r\n      prevReply: \"\",\r\n      buttonDisabled: false,\r\n      showUnacceptableCommentMssg: false,\r\n      auth: undefined,\r\n      newComment: {\r\n        text: \"\"\r\n      },\r\n      isBanned: false,\r\n      isReady: false,\r\n      loading: true,\r\n      showDialog: false\r\n    };\r\n  },\r\n  created() {\r\n    this.$nextTick(function() {\r\n      this.loading = false;\r\n    });\r\n  },\r\n  mounted() {\r\n    if (this.comment && this.comment[0]) {\r\n      this.isReady = true;\r\n    }\r\n    let auth = undefined;\r\n    if (process.browser) {\r\n      this.$aes.setKey(\"SECURE_VAL_PW\");\r\n      var authEnc = localStorage.getItem(\"auth\");\r\n      if (authEnc) {\r\n        auth = JSON.parse(this.$aes.decrypt(authEnc));\r\n      }\r\n    }\r\n    if (this.newUser) {\r\n      this.auth = this.newUser;\r\n      this.newComment.userId = auth.user._id;\r\n    }\r\n  },\r\n  methods: {\r\n    toogleDialogEmoji() {\r\n      this.showDialog = !this.showDialog;\r\n    },\r\n    selectEmoji(emoji) {\r\n      this.newComment.text += emoji.data;\r\n    },\r\n    getComment(id) {\r\n      for (let i = 0; i < this.comment.length; i++) {\r\n        if (this.comment[i]._id === id) {\r\n          return this.comment[i];\r\n        }\r\n      }\r\n    },\r\n    formatDate(dateTime) {\r\n      const utc = moment.utc(dateTime);\r\n      var localDate = utc.local();\r\n      return moment(localDate).format(\"DD-MM-YYYY h:mm a\");\r\n    },\r\n    reply(row, depth) {\r\n      this.showDialog = false;\r\n      if (this.newUser.isBanned) {\r\n        this.$buefy.snackbar.open(\"You have been banned from posting\");\r\n        return;\r\n      }\r\n      if (depth === 7) {\r\n        this.$buefy.snackbar.open(\"Comment depth limit reached\");\r\n        return;\r\n      }\r\n      const prevComment = store.getters.getComment;\r\n      if (prevComment.replies) {\r\n        prevComment.replies.pop();\r\n      }\r\n      store.dispatch(\"ChangeComment\", row);\r\n      if (!row.replies) {\r\n        row.replies = [];\r\n      }\r\n      row.replies.push({\r\n        type: \"reply\",\r\n        userId: \"5e97c24346719d261d32c912\",\r\n        text: \"yess\",\r\n        replies: [],\r\n        dateTime: \"2020-05-09T19:50:00.927Z\",\r\n        createdAt: {\r\n          $date: \"2020-05-09T19:50:00.935Z\"\r\n        },\r\n        updatedAt: {\r\n          $date: \"2020-05-09T19:50:00.935Z\"\r\n        },\r\n        __v: 0\r\n      });\r\n      this.inc += 1;\r\n      setTimeout(function() {\r\n        document.getElementById(\"newComment\").scrollIntoView();\r\n        window.scrollBy(0, -400);\r\n      }, 0);\r\n    },\r\n    isAdmin(user) {\r\n      if (\r\n        user &&\r\n        user.permissions.length > 0 &&\r\n        user.permissions[0] === \"admin\"\r\n      ) {\r\n        return \"admin\";\r\n      } else if (\r\n        user &&\r\n        user.permissions.length > 0 &&\r\n        user.permissions.includes(\"moderator\")\r\n      ) {\r\n        return \"moderator\";\r\n      }\r\n      return \"user\";\r\n    },\r\n    submitComment() {\r\n      this.showDialog = false;\r\n      this.buttonDisabled = true;\r\n      if (this.newUser.isBanned) {\r\n        this.buttonDisabled = false;\r\n        this.$buefy.snackbar.open(\r\n          \"You have been banned from posting. Contact via email to appeal.\"\r\n        );\r\n        return;\r\n      }\r\n      const parentComment = store.getters.getComment;\r\n      this.newComment.dateTime = new Date();\r\n      this.$axios(process.env.baseUrl + `api/comments`, {\r\n        method: \"post\",\r\n        data: this.newComment\r\n      })\r\n        .then(function(response) {\r\n          return response.data;\r\n        })\r\n        .then(response => {\r\n          if (!parentComment.repliesId) {\r\n            parentComment.repliesId = [];\r\n          }\r\n          parentComment.repliesId.push(response._id);\r\n          this.$axios(\r\n            process.env.baseUrl + `api/comments/` + parentComment._id,\r\n            {\r\n              method: \"patch\",\r\n              data: parentComment\r\n            }\r\n          )\r\n            .then(function(response) {\r\n              return response.data;\r\n            })\r\n            .then(response => {\r\n              if (this.pageData.numComments) {\r\n                this.pageData.numComments += 1;\r\n              } else {\r\n                this.pageData.numComments = this.pageData.commentIds.length;\r\n              }\r\n              this.$axios(process.env.baseUrl + `api/${this.type}/${this.id}`, {\r\n                method: \"patch\",\r\n                headers: new Headers({\r\n                  \"content-type\": \"application/json\"\r\n                }),\r\n                data: this.pageData\r\n              })\r\n                .then(function(response) {\r\n                  return response.data;\r\n                })\r\n                .then(response => {});\r\n              if (this.type === \"forums\") {\r\n                this.sendAtMsgNotif(response);\r\n              }\r\n\r\n              if (this.type === \"matches\") {\r\n                this.sendAtMsgNotifMatches(response);\r\n              }\r\n              if (this.type === \"news\") {\r\n                this.sendAtMsgNotifNews(response);\r\n              }\r\n              window.location.reload();\r\n            });\r\n        });\r\n    },\r\n    sendAtMsgNotifNews(news) {\r\n      // Send notif to guy who got @d\r\n      const prevComment = store.getters.getComment;\r\n      if (prevComment.user.notifications[this.id]) {\r\n        prevComment.user.notifications[\r\n          this.id\r\n        ].dateTime = this.pageData.updatedAt;\r\n      } else {\r\n        prevComment.user.notifications[this.id] = {\r\n          type: this.type,\r\n          dateTime: this.pageData.updatedAt,\r\n          text: \"Someone has replied to you on a news post!\",\r\n          slug: this.pageData.slug\r\n        };\r\n      }\r\n      this.$axios(process.env.baseUrl + `users/${prevComment.user._id}`, {\r\n        method: \"patch\",\r\n        headers: new Headers({\r\n          \"content-type\": \"application/json\"\r\n        }),\r\n        data: prevComment.user\r\n      })\r\n        .then(function(response) {\r\n          return response.data;\r\n        })\r\n        .then(response => {});\r\n    },\r\n    sendAtMsgNotifMatches(match) {\r\n      // Send notif to guy who got @d\r\n      const prevComment = store.getters.getComment;\r\n      if (prevComment.user.notifications[this.id]) {\r\n        prevComment.user.notifications[\r\n          this.id\r\n        ].dateTime = this.pageData.updatedAt;\r\n      } else {\r\n        prevComment.user.notifications[this.id] = {\r\n          type: this.type,\r\n          dateTime: this.pageData.updatedAt,\r\n          text: \"Someone has replied to you on a match post!\",\r\n          slug: this.pageData.slug\r\n        };\r\n      }\r\n      this.$axios(process.env.baseUrl + `users/${prevComment.user._id}`, {\r\n        method: \"patch\",\r\n        headers: new Headers({\r\n          \"content-type\": \"application/json\"\r\n        }),\r\n        data: prevComment.user\r\n      })\r\n        .then(function(response) {\r\n          return response.data;\r\n        })\r\n        .then(response => {});\r\n    },\r\n    sendAtMsgNotif(forum) {\r\n      const prevComment = store.getters.getComment;\r\n      // Send notif to guy who got @d\r\n      if (prevComment.user.notifications[this.id]) {\r\n        prevComment.user.notifications[\r\n          this.id\r\n        ].dateTime = this.pageData.updatedAt;\r\n      } else {\r\n        prevComment.user.notifications[this.id] = {\r\n          type: this.type,\r\n          dateTime: this.pageData.updatedAt,\r\n          text: \"Someone has replied to you on a forum post!\",\r\n          slug: this.pageData.slug\r\n        };\r\n      }\r\n      this.$axios(process.env.baseUrl + `users/${prevComment.user._id}`, {\r\n        method: \"patch\",\r\n        headers: new Headers({\r\n          \"content-type\": \"application/json\"\r\n        }),\r\n        data: prevComment.user\r\n      })\r\n        .then(function(response) {\r\n          return response.data;\r\n        })\r\n        .then(response => {});\r\n    },\r\n    deleteComment(comment) {\r\n      this.$buefy.dialog.confirm({\r\n        message: \"Are you sure you want to delete this comment?\",\r\n        type: \"is-dark\",\r\n        onConfirm: () => {\r\n          this.$axios(process.env.baseUrl + `api/comments/${comment._id}`, {\r\n            method: \"patch\",\r\n            headers: {\r\n              \"content-type\": \"application/json\"\r\n            },\r\n            data: { isRemoved: true }\r\n          })\r\n            .then(function(response) {\r\n              return response.data;\r\n            })\r\n            .then(response => {\r\n              window.location.reload();\r\n            });\r\n        }\r\n      });\r\n    },\r\n    navUser(id) {\r\n      this.$router.push({ path: `/user/${id}` });\r\n    }\r\n  },\r\n  components: { VueMarkdown, VEmojiPicker }\r\n};\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentTree.vue?vue&type=template&id=b65923e2&scoped=true&\"\nimport script from \"./CommentTree.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentTree.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./CommentTree.vue?vue&type=style&index=0&id=b65923e2&scoped=true&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"b65923e2\",\n  \"08af725f\"\n  \n)\n\nexport default component.exports","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport CommentTree from \"./CommentTree\";\r\nimport VEmojiPicker from \"v-emoji-picker\";\r\nimport VueMarkdown from \"vue-markdown\";\r\nconst moment = require(\"moment\");\r\nexport default {\r\n  name: \"Characters\",\r\n  props: {\r\n    id: String,\r\n    type: String,\r\n    commentsArray: Array,\r\n    pageData: Object\r\n  },\r\n  data() {\r\n    return {\r\n      auth: undefined,\r\n      comment: {\r\n        text: \"\"\r\n      },\r\n      data: [],\r\n      users: {},\r\n      buttonDisabled: false,\r\n      showUnacceptableCommentMssg: false,\r\n      isBanned: false,\r\n      replyComment: undefined,\r\n      selectedReply: undefined,\r\n      commentsObj: {},\r\n      inc: 0,\r\n      forum: undefined,\r\n      match: undefined,\r\n      newUser: undefined,\r\n      loading: true,\r\n      showDialog: false\r\n    };\r\n  },\r\n  created() {\r\n    this.$nextTick(function() {\r\n      this.loading = false;\r\n    });\r\n  },\r\n  mounted() {\r\n    if (process.browser) {\r\n      this.$aes.setKey(\"SECURE_VAL_PW\");\r\n      var authEnc = localStorage.getItem(\"auth\");\r\n      if (authEnc) {\r\n        let auth = JSON.parse(this.$aes.decrypt(authEnc));\r\n        if (auth) {\r\n          this.auth = auth;\r\n          this.comment.userId = auth.user._id;\r\n          this.$axios(process.env.baseUrl + `users/${this.auth.user._id}`, {\r\n            method: \"get\"\r\n          })\r\n            .then(function(response) {\r\n              return response.data;\r\n            })\r\n            .then(response => {\r\n              this.newUser = response;\r\n              this.isBanned = response.isBanned;\r\n            });\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    toogleDialogEmoji() {\r\n      this.showDialog = !this.showDialog;\r\n    },\r\n    selectEmoji(emoji) {\r\n      this.comment.text += emoji.data;\r\n    },\r\n    getComment(id) {\r\n      for (let i = 0; i < this.commentsArray.length; i++) {\r\n        if (this.commentsArray[i]._id === id) {\r\n          return this.commentsArray[i];\r\n        }\r\n      }\r\n    },\r\n    isAdmin(user) {\r\n      if (user.permissions.length > 0 && user.permissions[0] === \"admin\") {\r\n        return \"admin\";\r\n      }\r\n      return \"user\";\r\n    },\r\n    formatDate(dateTime) {\r\n      const utc = moment.utc(dateTime);\r\n      var localDate = utc.local();\r\n      return moment(localDate).format(\"DD-MM-YYYY h:mm a\");\r\n    },\r\n    navLogin() {\r\n      this.$router.push({ path: `/login` });\r\n    },\r\n    navRegister() {\r\n      this.$router.push({ path: `/signup` });\r\n    },\r\n    navUser(id) {\r\n      this.$router.push({ path: `/user/${id}` });\r\n    },\r\n    submitComment() {\r\n      this.showDialog = false;\r\n      if (this.isBanned) {\r\n        this.$buefy.snackbar.open(\r\n          \"You have been banned from posting. Contact via email to appeal.\"\r\n        );\r\n        return;\r\n      }\r\n      this.buttonDisabled = true;\r\n      this.comment.dateTime = new Date();\r\n      let newCommentId = \"\";\r\n      this.comment.text = this.filterBadwords(this.comment.text);\r\n      let notAllowed = true;\r\n      for (let i = 0; i < this.comment.text.length; i++) {\r\n        if (\r\n          this.comment.text[i] !== \"*\" &&\r\n          this.comment.text[i] !== \" \" &&\r\n          this.comment.text[i] !== \"\\n\"\r\n        ) {\r\n          notAllowed = false;\r\n        }\r\n      }\r\n      if (!notAllowed) {\r\n        this.comment.replyComment = this.replyComment;\r\n        this.comment.repliesId = [];\r\n        this.$axios(process.env.baseUrl + `api/comments`, {\r\n          method: \"post\",\r\n          data: this.comment\r\n        })\r\n          .then(function(response) {\r\n            return response.data;\r\n          })\r\n          .then(response => {\r\n            if (response.code !== undefined) {\r\n              this.$buefy.snackbar.open(response.message);\r\n              this.buttonDisabled = true;\r\n            } else {\r\n              newCommentId = response._id;\r\n              this.$axios(\r\n                process.env.baseUrl +\r\n                  `api/${this.type}/${this.id}?&populateuser=true`,\r\n                {\r\n                  method: \"get\",\r\n                  headers: {\r\n                    \"content-type\": \"application/json\"\r\n                  }\r\n                }\r\n              )\r\n                .then(function(response) {\r\n                  return response.data;\r\n                })\r\n                .then(response => {\r\n                  if (response.code !== undefined) {\r\n                    this.buttonDisabled = true;\r\n                    this.$buefy.snackbar.open(response.message);\r\n                  } else {\r\n                    if (this.type === \"forums\") {\r\n                      this.forum = response;\r\n                    }\r\n                    if (this.type === \"matches\") {\r\n                      this.match = response;\r\n                    }\r\n                    const newData = response;\r\n                    newData.commentIds.push(newCommentId);\r\n                    if (newData.numComments) {\r\n                      newData.numComments += 1;\r\n                    } else {\r\n                      newData.numComments = newData.commentIds.length;\r\n                    }\r\n                    this.$axios(\r\n                      process.env.baseUrl + `api/${this.type}/${this.id}`,\r\n                      {\r\n                        method: \"patch\",\r\n                        headers: new Headers({\r\n                          \"content-type\": \"application/json\"\r\n                        }),\r\n                        data: newData\r\n                      }\r\n                    )\r\n                      .then(function(response) {\r\n                        return response.data;\r\n                      })\r\n                      .then(response => {\r\n                        this.buttonDisabled = true;\r\n                        if (response.code !== undefined) {\r\n                          this.$buefy.snackbar.open(response.message);\r\n                          this.buttonDisabled = false;\r\n                        } else {\r\n                          if (this.type === \"forums\") {\r\n                            this.sendForumNotif(response);\r\n                            if (this.replyComment !== undefined) {\r\n                              this.sendAtMsgNotif(response);\r\n                            }\r\n                          }\r\n                          if (this.type === \"matches\") {\r\n                            if (this.replyComment !== undefined) {\r\n                              this.sendAtMsgNotifMatches(response);\r\n                            }\r\n                          }\r\n                          if (this.type === \"news\") {\r\n                            if (this.replyComment !== undefined) {\r\n                              this.sendAtMsgNotifNews(response);\r\n                            }\r\n                          }\r\n                          window.location.reload();\r\n                        }\r\n                      });\r\n                  }\r\n                });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              if (error.response.data.message === \"jwt expired\") {\r\n                if (process.browser) {\r\n                  localStorage.removeItem(\"auth\");\r\n                }\r\n                window.location.reload();\r\n              }\r\n            }\r\n          });\r\n      } else {\r\n        this.showUnacceptableCommentMssg = true;\r\n        this.buttonDisabled = false;\r\n      }\r\n    },\r\n    sendAtMsgNotifNews(news) {\r\n      // Send notif to guy who got @d\r\n      if (this.replyComment.user.notifications[this.id]) {\r\n        this.replyComment.user.notifications[this.id].dateTime = news.updatedAt;\r\n      } else {\r\n        this.replyComment.user.notifications[this.id] = {\r\n          type: this.type,\r\n          dateTime: news.updatedAt,\r\n          text: \"Someone has replied to you on a news post!\",\r\n          slug: news.slug\r\n        };\r\n      }\r\n      this.$axios(process.env.baseUrl + `users/${this.replyComment.user._id}`, {\r\n        method: \"patch\",\r\n        headers: new Headers({\r\n          \"content-type\": \"application/json\"\r\n        }),\r\n        data: this.replyComment.user\r\n      })\r\n        .then(function(response) {\r\n          return response.data;\r\n        })\r\n        .then(response => {});\r\n    },\r\n    sendAtMsgNotifMatches(match) {\r\n      // Send notif to guy who got @d\r\n      if (this.replyComment.user.notifications[this.id]) {\r\n        this.replyComment.user.notifications[this.id].dateTime =\r\n          match.updatedAt;\r\n      } else {\r\n        this.replyComment.user.notifications[this.id] = {\r\n          type: this.type,\r\n          dateTime: match.updatedAt,\r\n          text: \"Someone has replied to you on a match post!\",\r\n          slug: match.slug\r\n        };\r\n      }\r\n      this.$axios(process.env.baseUrl + `users/${this.replyComment.user._id}`, {\r\n        method: \"patch\",\r\n        headers: new Headers({\r\n          \"content-type\": \"application/json\"\r\n        }),\r\n        data: this.replyComment.user\r\n      })\r\n        .then(function(response) {\r\n          return response.data;\r\n        })\r\n        .then(response => {});\r\n    },\r\n    sendAtMsgNotif(forum) {\r\n      if (this.forum.user._id === this.replyComment.user._id) {\r\n        return;\r\n      }\r\n      // Send notif to guy who got @d\r\n      if (this.replyComment.user.notifications[this.id]) {\r\n        this.replyComment.user.notifications[this.id].dateTime =\r\n          forum.updatedAt;\r\n      } else {\r\n        this.replyComment.user.notifications[this.id] = {\r\n          type: this.type,\r\n          dateTime: forum.updatedAt,\r\n          text: \"Someone has replied to you on a forum post!\",\r\n          slug: forum.slug\r\n        };\r\n      }\r\n      this.$axios(process.env.baseUrl + `users/${this.replyComment.user._id}`, {\r\n        method: \"patch\",\r\n        headers: new Headers({\r\n          \"content-type\": \"application/json\"\r\n        }),\r\n        data: this.replyComment.user\r\n      })\r\n        .then(function(response) {\r\n          return response.data;\r\n        })\r\n        .then(response => {});\r\n    },\r\n    sendForumNotif(forum) {\r\n      if (this.forum.user._id === this.comment.userId) {\r\n        return;\r\n      }\r\n      // Send notification to forum poster\r\n      if (this.forum.user.notifications[this.id]) {\r\n        this.forum.user.notifications[this.id].dateTime = forum.updatedAt;\r\n      } else {\r\n        this.forum.user.notifications[this.id] = {\r\n          type: this.type,\r\n          dateTime: forum.updatedAt,\r\n          text: \"Someone has commented on a forum post you created!\"\r\n        };\r\n      }\r\n      this.$axios(process.env.baseUrl + `users/${this.forum.user._id}`, {\r\n        method: \"patch\",\r\n        headers: new Headers({\r\n          \"content-type\": \"application/json\"\r\n        }),\r\n        data: this.forum.user\r\n      })\r\n        .then(function(response) {\r\n          return response.data;\r\n        })\r\n        .then(response => {});\r\n    },\r\n    filterBadwords(text) {\r\n      const badWords = new Set([\r\n        \"nigger\",\r\n        \"nigar\",\r\n        \"niggar\",\r\n        \"niger\",\r\n        \"n1ger\",\r\n        \"n1gger\",\r\n        \"n1ggar\",\r\n        \"nigga\",\r\n        \"negar\",\r\n        \"neggar\",\r\n        \"faggot\",\r\n        \"faggit\",\r\n        \"fagot\",\r\n        \"nigerr\",\r\n        \"nigarr\",\r\n        \"fagott\",\r\n        \"faggit\"\r\n      ]);\r\n      text = text.trim().split(\" \");\r\n      for (let i = 0; i < text.length; i++) {\r\n        if (badWords.has(text[i].toLowerCase())) {\r\n          text[i] = \"******\";\r\n        }\r\n      }\r\n      text = text.join(\" \");\r\n      return text;\r\n    },\r\n    reply() {},\r\n    shouldHighlight(id) {\r\n      setTimeout(() => {\r\n        this.selectedReply = undefined;\r\n      }, 4000);\r\n      if (this.selectedReply && id === this.selectedReply) {\r\n        return \"bkg-highlight\";\r\n      }\r\n      return \"\";\r\n    },\r\n    clickAt(id) {\r\n      document.getElementById(id).scrollIntoView();\r\n      window.scrollBy(0, -100);\r\n    },\r\n    scrollBottom() {\r\n      window.scrollTo(0, document.body.scrollHeight);\r\n    }\r\n  },\r\n  components: { VueMarkdown, CommentTree, VEmojiPicker }\r\n};\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=579851e6&scoped=true&\"\nimport script from \"./Comments.vue?vue&type=script&lang=js&\"\nexport * from \"./Comments.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Comments.vue?vue&type=style&index=0&id=579851e6&scoped=true&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"579851e6\",\n  \"3e47df22\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAMA;AADA;AAIA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AAHA;AAlBA;AAyBA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAZA;AAaA;AAAA;AAAA;AAAA;AApEA;;ACtDA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;;;;;ACFA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAZA;AAaA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAZA;AAxBA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAZA;AAcA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA,+BAMA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AAZA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AACA;AAKA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AAFA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAQA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAQA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAQA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AALA;AAQA;AACA;AAEA;AACA;AACA;AAjBA;AAmBA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAnPA;AAoPA;AAAA;AAAA;AAAA;AAtSA;;ACpKA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAKA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAoBA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA,+BAoBA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AADA;AAFA;AAQA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AADA;AAGA;AALA;AASA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,2BAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAQA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAQA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAQA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAQA;AACA;AAEA;AACA;AAAA;AACA;AAmBA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AArTA;AAsTA;AAAA;AAAA;AAAA;AAAA;AAhXA;;ACtHA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}