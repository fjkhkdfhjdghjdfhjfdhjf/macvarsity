exports.ids = [4];
exports.modules = {

/***/ 149:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_20095b8c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(95);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_20095b8c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_20095b8c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_20095b8c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_20095b8c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_20095b8c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 150:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(2);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".type-button[data-v-20095b8c]{width:150px}.button[data-v-20095b8c]{margin-top:20px;margin-bottom:20px}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 226:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./pages/Login.vue?vue&type=template&id=20095b8c&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"hello"},[_vm._ssrNode("<h1 style=\"font-size:50px;margin-bottom:20px\" data-v-20095b8c>Login</h1> "),_vm._ssrNode("<div class=\"columns is-centered\" data-v-20095b8c>","</div>",[_vm._ssrNode("<div class=\"column is-one-fifth\" data-v-20095b8c>","</div>",[_vm._ssrNode("<div class=\"card\" data-v-20095b8c>","</div>",[_vm._ssrNode("<div class=\"card-content\" data-v-20095b8c>","</div>",[_vm._ssrNode("<div style=\"text-align:left\" data-v-20095b8c>","</div>",[_c('b-field',{attrs:{"label":"Email"}},[_c('b-input',{attrs:{"placeholder":"Email...","type":"email"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, "email", $$v)},expression:"user.email"}})],1),_vm._ssrNode(" "),_c('b-field',{attrs:{"label":"Password"}},[_c('b-input',{attrs:{"placeholder":"Password...","type":"password"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, "password", $$v)},expression:"user.password"}})],1)],2),_vm._ssrNode(" "+((_vm.verifyEmail)?("<p style=\"cursor:pointer;color:#ff726f;margin-top:20px\" data-v-20095b8c>Click to resend verification</p>"):"<!---->")+" "+((_vm.isDone)?("<p style=\"cursor:pointer;color:#ff726f;margin-top:20px\" data-v-20095b8c>Forgot Password?</p>"):"<!---->")+" "+((!_vm.isDone)?("<p style=\"cursor:pointer;color:white;margin-top:20px\" data-v-20095b8c>Forgot Password?</p>"):"<!---->"))],2),_vm._ssrNode(" "),_vm._ssrNode("<footer class=\"card-footer\" style=\"height:60px;\" data-v-20095b8c>","</footer>",[_vm._ssrNode("<span class=\"card-footer-item\" data-v-20095b8c>","</span>",[_c('b-button',{staticStyle:{"background-color":"#ff726f"},on:{"click":_vm.login}},[_vm._v("Submit")])],1)])],2)])])],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/Login.vue?vue&type=template&id=20095b8c&scoped=true&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/Login.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var Loginvue_type_script_lang_js_ = ({
  layout: "OnlyNav",
  name: "Characters",
  props: {
    type: String
  },

  data() {
    return {
      user: {
        strategy: "local",
        email: "",
        password: ""
      },
      isDone: true,
      verifyEmail: false
    };
  },

  mounted() {},

  methods: {
    sendForgot() {
      if (this.user.email === "") {
        this.$buefy.snackbar.open("Please enter a valid email!");
      } else {
        this.isDone = false;
        const data = {
          action: "sendResetPwd",
          value: {
            email: this.user.email
          }
        };
        this.$axios(undefined + "authmanagement", {
          method: "post",
          headers: new Headers({
            "content-type": "application/json"
          }),
          data: data
        }).then(function (response) {
          return response.data;
        }).then(response => {
          if (response.code !== undefined) {
            this.$buefy.snackbar.open(response.message);
          } else {
            this.$buefy.snackbar.open({
              message: `An email has been sent to ${this.user.email}. Please check your spam!`,
              duration: 15000
            });
          }

          this.isDone = true;
        }).catch(error => {
          if (error.response) {
            this.$buefy.snackbar.open({
              message: error.response.data.message,
              duration: 5000
            });
          }
        });
      }
    },

    login() {
      this.$axios(undefined + "api/authentication", {
        method: "post",
        headers: new Headers({
          "content-type": "application/json"
        }),
        data: this.user
      }).then(function (response) {
        return response.data;
      }).then(response => {
        if (response.code !== undefined) {
          this.$buefy.snackbar.open(response.message);
        } else {
          if (false) {}

          this.$buefy.snackbar.open("Login successful!");

          if (false) {}
        }
      }).catch(err => {
        this.$buefy.snackbar.open("Invalid Credentials");
        return err;
      });
    },

    resend() {
      this.$axios(undefined + `users?email=${this.user.email}`, {
        method: "get",
        headers: new Headers({
          "content-type": "application/json"
        })
      }).then(function (response) {
        return response.data;
      }).then(res => {
        const usr = res.data[0];
        this.$axios(undefined + "users/" + usr._id, {
          method: "patch",
          headers: {
            "content-type": "application/json",
            resendemail: true
          },
          data: usr
        }).then(function (response) {
          return response.data;
        }).then(response => {
          this.$buefy.snackbar.open({
            message: "Please check email and spam for verification code!",
            duration: 15000
          });
          this.user = {
            strategy: "local",
            email: "",
            password: ""
          };
        });
      });
    }

  },
  components: {}
});
// CONCATENATED MODULE: ./pages/Login.vue?vue&type=script&lang=js&
 /* harmony default export */ var pages_Loginvue_type_script_lang_js_ = (Loginvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/Login.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(149)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  pages_Loginvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "20095b8c",
  "6e0fe0d5"
  
)

/* harmony default export */ var Login = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 95:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(150);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(3).default
module.exports.__inject__ = function (context) {
  add("8b9b1168", content, true, context)
};

/***/ })

};;
//# sourceMappingURL=Login.js.map