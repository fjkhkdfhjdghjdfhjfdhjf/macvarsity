{"version":3,"file":"pages/teams/_id.js","sources":["webpack:///./pages/teams/_id.vue?2ed0","webpack:///./components/EventCard.vue?9c92","webpack:///./components/EventCard.vue","webpack:///./components/EventCard.vue?4da0","webpack:///./components/EventCard.vue?9d0b","webpack:///./pages/teams/_id.vue?f25c","webpack:///./pages/teams/_id.vue?84db","webpack:///./pages/teams/_id.vue?0c6c","webpack:///./pages/teams/_id.vue","webpack:///./pages/teams/_id.vue?44b0","webpack:///./pages/teams/_id.vue?1549"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=style&index=0&id=2e066a05&scoped=true&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"245664b2\", content, true, context)\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\",staticStyle:{\"cursor\":\"pointer\",\"display\":\"inline-block\",\"width\":\"280px\"},on:{\"click\":function($event){return _vm.navEventDetails(_vm.event._id, _vm.event.slug)}}},[_vm._ssrNode(\"<div class=\\\"card-content is-flex\\\"\"+(_vm._ssrStyle(null,{'height': '150px', 'padding': 0, 'align-items': 'flex-end', 'background': (\"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 90%), url(\" + (_vm.getEventImgUrl(_vm.event)) + \") no-repeat center center\"), 'background-size': 'cover'}, null))+\">\",\"</div>\",[_vm._ssrNode(\"<div style=\\\"position: absolute; top: 0.5em; right: 0.5em\\\">\",\"</div>\",[(_vm.getStatus(_vm.event) === 'live')?_c('b-tag',{staticStyle:{\"background-color\":\"green\"},attrs:{\"rounded\":\"\"}},[_vm._v(\"Live\")]):_vm._e(),_vm._ssrNode(\" \"),(_vm.getStatus(_vm.event) === 'coming')?_c('b-tag',{staticStyle:{\"background-color\":\"blue\"},attrs:{\"rounded\":\"\"}},[_vm._v(\"Upcoming\")]):_vm._e(),_vm._ssrNode(\" \"),(_vm.getStatus(_vm.event) === 'prev')?_c('b-tag',{staticStyle:{\"background-color\":\"black\"},attrs:{\"rounded\":\"\"}},[_vm._v(\"Finished\")]):_vm._e()],2),_vm._ssrNode(\" <div style=\\\"width: 100%\\\"><p style=\\\"padding-bottom: 0.5em\\\">\"+_vm._ssrEscape(_vm._s(_vm.event.name))+\"</p></div>\")],2),_vm._ssrNode(\" <footer class=\\\"card-footer\\\"><p class=\\\"card-footer-item\\\" style=\\\"color:#ff726f\\\">\"+_vm._ssrEscape(_vm._s(_vm.formatDateEvent(_vm.event.date.from)))+\"</p></footer>\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nconst moment = require(\"moment\");\r\n\r\nexport default {\r\n    props: ['event'],\r\n    methods: {\r\n        getEventImgUrl(event) {\r\n            return process.env.baseUrl + `api/uploads/events/${event.img}`;\r\n        },\r\n        formatDateEvent(dateTime) {\r\n            const utc = moment.utc(dateTime);\r\n            var localDate = utc.local();\r\n            return moment(localDate).format(\"MMMM DD, YYYY\");\r\n        },\r\n        getStatus(event) {\r\n            if (\r\n                moment(new Date()).isBetween(\r\n                moment(event.date.from),\r\n                moment(event.date.to)\r\n                )\r\n            ) {\r\n                return 'live'\r\n            } else if (\r\n                moment(new Date()).diff(moment(event.date.to)) <= 0\r\n            ) {\r\n                return 'coming'\r\n            } else {\r\n                return 'prev'\r\n            }\r\n        },\r\n        navEventDetails(id, slug) {\r\n            this.$router.push({ path: `/events/${id}/${slug}` });\r\n        },\r\n    }\r\n}\r\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventCard.vue?vue&type=template&id=927ea728&\"\nimport script from \"./EventCard.vue?vue&type=script&lang=js&\"\nexport * from \"./EventCard.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"22067ff0\"\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=style&index=0&id=2e066a05&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=style&index=0&id=2e066a05&scoped=true&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".type-button[data-v-2e066a05]{width:150px}.button[data-v-2e066a05]{margin-top:20px;margin-bottom:20px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_vm._ssrNode(\"<div\"+(_vm._ssrStyle(null,{width:!_vm.$device.isMobile?'800px':'' }, null))+\" data-v-2e066a05>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"card\\\" data-v-2e066a05>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"card-content\\\" data-v-2e066a05>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"media\\\" data-v-2e066a05>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"media-left\\\" data-v-2e066a05><figure class=\\\"image is-128x128\\\" data-v-2e066a05><img\"+(_vm._ssrAttr(\"src\",_vm.getImgUrl()))+\" style=\\\"border-radius: 50%;\\\" data-v-2e066a05></figure></div> <div class=\\\"media-content\\\" data-v-2e066a05><div class=\\\"content\\\" data-v-2e066a05><p class=\\\"title\\\" data-v-2e066a05>\"+_vm._ssrEscape(_vm._s(_vm.team.name))+\"</p> <p data-v-2e066a05>\"+_vm._ssrEscape(\"Latest match: \"+_vm._s(_vm.matchHistory[0] ? _vm.timeDiff(_vm.matchHistory[0].dateTime) : 'N/A')+\" ago\")+\"</p></div></div> \"),_vm._ssrNode(\"<div class=\\\"media-right\\\" data-v-2e066a05>\",\"</div>\",[_c('CountryFlag',{attrs:{\"country\":_vm.team.flag != null ? _vm.team.flag : 'UN',\"size\":\"big\"}})],1)],2),_vm._ssrNode(\" \"),(_vm.isPageReady)?_c('b-tabs',{attrs:{\"type\":\"is-boxed\"}},[_c('b-tab-item',{attrs:{\"label\":\"Overview\"}},[_c('div',{staticClass:\"columns \"},_vm._l((_vm.team.activePlayers),function(player){return _c('div',{key:player._id,staticClass:\"column is-one-fifth\"},[_c('nuxt-link',{attrs:{\"to\":(\"/players/\" + (player._id))}},[_c('div',{staticClass:\"card\",style:({height:!_vm.$device.isMobile?'175px':'105px','cursor':'pointer'})},[_c('div',{style:({height:!_vm.$device.isMobile?'125px':'70px','width':'100%','display':'flex','overflow':'hidden','justify-content':'center'})},[_c('img',{staticStyle:{\"max-height\":\"100%\"},attrs:{\"src\":_vm.getPlayerImgUrl(player.img)}}),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"z-index\":\"1\",\"top\":\"0px\",\"right\":\"-8px\"}},[(player.flag !== undefined)?_c('CountryFlag',{attrs:{\"country\":player.flag,\"size\":\"medium\"}}):_vm._e(),_vm._v(\" \"),(player.flag === undefined)?_c('CountryFlag',{staticStyle:{\"visibility\":\"hidden\",\"margin-right\":\"-20px\"},attrs:{\"country\":\"us\",\"size\":\"small\"}}):_vm._e()],1)]),_vm._v(\" \"),_c('footer',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"card-footer-item\"},[_c('p',[_vm._v(_vm._s(player.name))])])])])])],1)}),0),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\",\"font-size\":\"14px\",\"margin-top\":\"40px\"}},[_vm._v(\"Last 3 Matches\")]),_vm._v(\" \"),_c('div',[_vm._v(\"Quarter Stats Winrate\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},_vm._l((_vm.mapHistory),function(map){return _c('div',{key:map._id,staticClass:\"box\",staticStyle:{\"background-color\":\"#273142\",\"margin-top\":\"0.5em\",\"margin-bottom\":\"0.5em\"}},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left has-text-centered\"},[_c('img',{staticStyle:{\"width\":\"100px\",\"border-radius\":\"10%\"},attrs:{\"src\":_vm.getMapImg(map.img)}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(map.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"content has-text-centered\"},[(_vm.mapHistory[0].stats !== undefined)?_c('div',[_c('strong',{staticClass:\"title is-4\",staticStyle:{\"color\":\"white\"}},[_vm._v(_vm._s(map.stats ? (map.stats['Win %'].toFixed(2) * 100) : 'N/A')+\"%\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(map.stats ? map.stats['Maps Played'] : 'N/A')+\" games\")])]):_c('strong',{staticClass:\"title is-4\"},[_vm._v(_vm._s(Math.floor(Math.random() *100))+\"%\")])])])])])}),0)]),_vm._v(\" \"),_c('b-tab-item',{attrs:{\"label\":\"Matches\"}},[_vm._l((_vm.matchHistoryFinal.slice(0, 3)),function(match,index){return _c('div',{key:index,staticStyle:{\"margin-top\":\"0.5em\",\"margin-bottom\":\"0.5em\"}},[_c('div',{staticClass:\"box\",staticStyle:{\"background-color\":\"#273142\"}},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left\"},[_c('figure',{staticClass:\"image is-64x64\"},[_c('img',{staticStyle:{\"border-radius\":\"50%\"},attrs:{\"src\":_vm.getTeamImg(match.opponent.img),\"alt\":\"Avatar\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"media-content\",staticStyle:{\"padding\":\"10px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.navMatch(match._id)}}},[_c('p',[_c('strong',{staticStyle:{\"color\":\"white\"}},[_vm._v(_vm._s(match.opponent.name))])]),_vm._v(\" \"),(match.isWinner)?_c('div',{staticStyle:{\"color\":\"green\"}},[_vm._v(\"WON\")]):_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"LOST\")]),_vm._v(\" \"),_c('div',{staticClass:\"is-flex\",staticStyle:{\"flex-wrap\":\"wrap\"}},_vm._l((match.playedMaps),function(playedMap){return _c('div',{key:playedMap.mapId,staticClass:\"has-text-centered\",staticStyle:{\"margin\":\"0.5em\"}},[_c('p',[_vm._v(_vm._s(playedMap.map.name))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(playedMap.teamOneScore)+\" - \"+_vm._s(playedMap.teamTwoScore))])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"media-right\"},[(match.playedMaps.length == 1)?_c('strong',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"Bo1\")]):_vm._e(),_vm._v(\" \"),(match.playedMaps.length > 1 && match.playedMaps.length < 3)?_c('strong',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"Bo3\")]):_vm._e()])])])])}),_vm._v(\" \"),_c('b-table',{staticStyle:{\"color\":\"white\"},attrs:{\"mobile-cards\":false,\"data\":_vm.matchHistoryFinal.slice(3),\"striped\":true,\"hoverable\":true,\"paginated\":true,\"per-page\":5,\"selectable\":\"\"},on:{\"select\":_vm.selected},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-table-column',{attrs:{\"label\":\"Team\",\"field\":\"name\"}},[_c('img',{staticStyle:{\"border-radius\":\"50%\",\"width\":\"25px\",\"height\":\"25px\"},attrs:{\"src\":_vm.getTeamImg(props.row.opponent.img),\"alt\":\"Opponent Image\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"vertical-align\":\"top\"}},[_vm._v(_vm._s(props.row.opponent.name))])]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"label\":\"Outcome\",\"field\":\"outcome\"}},[(props.row.isWinner)?_c('div',{staticStyle:{\"color\":\"green\"}},[_vm._v(\"WON\")]):_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"LOST\")])]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"label\":\"Maps\",\"field\":\"maps\"}},[_c('div',{staticStyle:{}},_vm._l((props.row.playedMaps),function(playedMap){return _c('div',{key:playedMap.mapId},[_c('p',[_vm._v(_vm._s(playedMap.map.name)+\": \"+_vm._s(playedMap.teamOneScore)+\" - \"+_vm._s(playedMap.teamTwoScore))])])}),0)])]}}],null,false,2241922267)})],2),_vm._v(\" \"),_c('b-tab-item',{attrs:{\"label\":\"Players\"}},[_c('p',{staticClass:\"title is-4\"},[_vm._v(\"Current Roster\")]),_vm._v(\" \"),(_vm.team.activePlayers !== undefined && _vm.team.activePlayers.length > 0)?_c('div',{staticClass:\"columns\"},_vm._l((_vm.team.activePlayers),function(player){return _c('div',{key:player._id,staticClass:\"column is-one-fifth\"},[_c('nuxt-link',{attrs:{\"to\":(\"/players/\" + (player._id))}},[_c('div',{staticClass:\"card\",style:({height:!_vm.$device.isMobile?'175px':'105px','cursor':'pointer'})},[_c('div',{style:({height:!_vm.$device.isMobile?'125px':'70px','width':'100%','display':'flex','overflow':'hidden','justify-content':'center'})},[_c('img',{staticStyle:{\"max-height\":\"100%\"},attrs:{\"src\":_vm.getPlayerImgUrl(player.img)}}),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"z-index\":\"1\",\"top\":\"0px\",\"right\":\"-8px\"}},[(player.flag !== undefined)?_c('CountryFlag',{attrs:{\"country\":player.flag,\"size\":\"medium\"}}):_vm._e(),_vm._v(\" \"),(player.flag === undefined)?_c('CountryFlag',{staticStyle:{\"visibility\":\"hidden\",\"margin-right\":\"-20px\"},attrs:{\"country\":\"us\",\"size\":\"small\"}}):_vm._e()],1)]),_vm._v(\" \"),_c('footer',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"card-footer-item\"},[_c('p',[_vm._v(_vm._s(player.name))])])])])])],1)}),0):_vm._e(),_vm._v(\" \"),(_vm.team.activePlayers === undefined || _vm.team.activePlayers.length === 0)?_c('p',{staticClass:\"title is-5\"},[_vm._v(\"Data Unavailable\")]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"title is-4\"},[_vm._v(\"All Players\")]),_vm._v(\" \"),(_vm.team.players !== undefined && _vm.team.players.length > 0)?_c('div',{staticClass:\"columns is-multiline\"},_vm._l((_vm.team.players),function(player){return _c('div',{key:player._id,staticClass:\"column is-one-fifth\"},[_c('nuxt-link',{attrs:{\"to\":(\"/players/\" + (player._id))}},[_c('div',{staticClass:\"card\",style:({height:!_vm.$device.isMobile?'175px':'105px','cursor':'pointer'})},[_c('div',{style:({height:!_vm.$device.isMobile?'125px':'70px','width':'100%','display':'flex','overflow':'hidden','justify-content':'center'})},[_c('img',{staticStyle:{\"max-height\":\"100%\"},attrs:{\"src\":_vm.getPlayerImgUrl(player.img)}}),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"z-index\":\"1\",\"top\":\"0px\",\"right\":\"-8px\"}},[(player.flag !== undefined)?_c('CountryFlag',{attrs:{\"country\":player.flag,\"size\":\"medium\"}}):_vm._e(),_vm._v(\" \"),(player.flag === undefined)?_c('CountryFlag',{staticStyle:{\"visibility\":\"hidden\",\"margin-right\":\"-20px\"},attrs:{\"country\":\"us\",\"size\":\"small\"}}):_vm._e()],1)]),_vm._v(\" \"),_c('footer',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"card-footer-item\"},[_c('p',[_vm._v(_vm._s(player.name))])])])])])],1)}),0):_vm._e(),_vm._v(\" \"),(_vm.team.players === undefined || _vm.team.players.length === 0)?_c('p',{staticClass:\"title is-5\"},[_vm._v(\"Data Unavailable\")]):_vm._e()])],1):_vm._e()],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nconst moment = require(\"moment\");\r\nimport EventCard from \"../../components/EventCard\";\r\nimport axios from \"axios\";\r\nimport CountryFlag from \"vue-country-flag\";\r\n\r\nexport default {\r\n  name: \"Characters\",\r\n  props: {\r\n    type: String\r\n  },\r\n  data() {\r\n    return {\r\n      matchHistoryFinal: [],\r\n      agentStatsFilter: 0,\r\n      isPageReady: false,\r\n      allAgentStats: undefined,\r\n      agentStatsMapIndex: [\r\n        { id: 0, map: 'All' },\r\n        { id: 1, map: 'Haven' },\r\n        { id: 2, map: 'Bind' },\r\n        { id: 3, map: 'Split' },\r\n        { id: 4, map: 'Ascent' },\r\n      ]\r\n    };\r\n  },\r\n  asyncData({ params }) {\r\n    return axios.all([\r\n      axios.get(process.env.baseUrl + `api/teams/${params.id}`),\r\n      axios.get(process.env.baseUrl + \"api/events?$sort[date.to]=-1\", { params: {teamIds: params.id } }),\r\n      axios.get(process.env.baseUrl + `api/gamemaps`),\r\n      axios.get(process.env.baseUrl +\r\n            `api/matches?active=false&$or[0][teamOneId][$in]=${params.id}&$or[1][teamTwoId][$in]=${params.id}&$sort[dateTime]=-1&populatemapsonly=true`)\r\n    ]).then(axios.spread(async (teamRaw, eventsRaw, gamemapsRaw, matchHistoryRaw) => {\r\n      let team = teamRaw.data;\r\n      console.log('team ', team)\r\n      let teamEvents = eventsRaw.data.data;\r\n      let mapHistory = gamemapsRaw.data.data;\r\n      let matchHistory = matchHistoryRaw.data.data\r\n      // let mapIds = mapHistory.map(map => {\r\n      //   return map._id\r\n      // })\r\n\r\n      // let mapRequests = [];\r\n\r\n      // for (let i = 0; i < mapIds.length; i++) {\r\n      //   let newRequest = axios({method: 'post', url: process.env.baseUrl + `api/db/teamstats`, data: { filters: `team_oids=>'{${params.id}}',gamemap_oids=>'{${mapIds[i]}}'` } })\r\n      //   mapRequests.push(newRequest);\r\n      // }\r\n\r\n      // let data = await axios.all([\r\n      //   // axios.post(process.env.baseUrl + `api/db/playerstats`, { filters: `team_oids=>'{${params.id}}'` }),\r\n      //   axios.get(process.env.baseUrl +\r\n      //       `api/matches?active=false&$or[0][teamOneId][$in]=${params.id}&$or[1][teamTwoId][$in]=${params.id}&$sort[dateTime]=-1&populatemapsonly=true`),\r\n      //   // ...mapRequests\r\n      // ]).then(axios.spread((matchHistoryRaw) => {\r\n      //   // let mapStats = mapResponses.map(res => res.data[0]);\r\n      //   // for(let i = 0; i < mapHistory.length; i++) {\r\n      //   //   mapHistory[i].stats = mapStats[i];\r\n      //   // }\r\n      //   return { matchHistory: matchHistoryRaw.data.data }\r\n      // }))\r\n\r\n      return { team, teamEvents, mapHistory, matchHistory}\r\n    }))\r\n  },\r\n  created() {\r\n    // // pulling agent stats\r\n    // let agentRequests = [];\r\n    // let mapIds = this.mapHistory.map(map => {\r\n    //   return map._id\r\n    // })\r\n    // agentRequests.push(axios({method: 'post', url: process.env.baseUrl + `api/db/agentstats`, data: { filters: `team_oids=>'{${this.$route.params.id}}'` } }))\r\n    // for (let i = 0; i < mapIds.length; i++) {\r\n    //   let newRequest = axios({method: 'post', url: process.env.baseUrl + `api/db/agentstats`, data: { filters: `team_oids=>'{${this.$route.params.id}}',gamemap_oids=>'{${mapIds[i]}}'` } })\r\n    //   agentRequests.push(newRequest);\r\n    // }\r\n    // axios.all(agentRequests).then(axios.spread((...agentStatsResponses) => {\r\n    //   this.allAgentStats = agentStatsResponses.map(res => res.data);\r\n    // }))\r\n    this.processMatchHistory(this.matchHistory);\r\n    setTimeout(()=>{\r\n      this.isPageReady = true;\r\n      }, 1000);\r\n  },\r\n  methods: {\r\n    getAgent(img) {\r\n      if (img) {\r\n        return process.env.baseUrl + `api/uploads/agents/${img}.png`;\r\n      } else {\r\n        return process.env.baseUrl + `api/uploads/agents/unknown.png`;\r\n      }\r\n    },\r\n    timeDiff(matchTime) {\r\n      let now = moment(moment.now());\r\n      let then = moment(matchTime);\r\n      \r\n      var ms = now.diff(then);\r\n      var d = moment.duration(ms).humanize();\r\n      \r\n      return d;\r\n\r\n    },\r\n    getImgUrl() {\r\n      return process.env.baseUrl + `api/uploads/teams/${this.team.img}`;\r\n    },\r\n    getTeamImg(img) {\r\n      return process.env.baseUrl + `api/uploads/teams/${img}`;\r\n    },\r\n    getPlayerImgUrl(playerId) {\r\n      return process.env.baseUrl + `api/uploads/players/${playerId}`;\r\n    },\r\n    getMapImg(name) {\r\n      return process.env.baseUrl + `api/uploads/maps/${name}`;\r\n    },\r\n    navPlayer(id, slug) {\r\n      this.$router.push({ path: `/players/${id}/${slug}` });\r\n    },\r\n    navMatch(id, slug) {\r\n      this.$router.push({ path: `/matches/${id}/${slug}` });\r\n    },\r\n    processMatchHistory(matches) {\r\n      for (let i = 0; i < matches.length; i++) {\r\n        const data = {};\r\n        data._id = matches[i]._id;\r\n        data.slug = matches[i].slug;\r\n        if (matches[i].teamOneId === this.$route.params.id) {\r\n          data.opponent = matches[i].teamTwo;\r\n          data.isWinner = this.getWinnerDetails(matches[i].maps).winner === 0;\r\n          data.playedMaps = matches[i].maps;\r\n        } else {\r\n          data.opponent = matches[i].teamOne;\r\n          data.isWinner = this.getWinnerDetails(matches[i].maps).winner === 1;\r\n          data.playedMaps = matches[i].maps;\r\n        }\r\n        this.matchHistoryFinal.push(data);\r\n      }\r\n    },\r\n    getWinnerDetails(maps) {\r\n      const details = {};\r\n      if (maps.length === 1) {\r\n        details.teamOneScore = maps[0].teamOneScore;\r\n        details.teamTwoScore = maps[0].teamTwoScore;\r\n        if (parseInt(details.teamOneScore) > parseInt(details.teamTwoScore)) {\r\n          details.winner = 0;\r\n        } else if (\r\n          parseInt(details.teamOneScore) < parseInt(details.teamTwoScore)\r\n        ) {\r\n          details.winner = 1;\r\n        } else {\r\n          details.winner = -1;\r\n        }\r\n      } else {\r\n        let oneCount = 0;\r\n        let twoCount = 0;\r\n        for (let i = 0; i < maps.length; i++) {\r\n          if (parseInt(maps[i].teamOneScore) > parseInt(maps[i].teamTwoScore)) {\r\n            oneCount += 1;\r\n          }\r\n          if (parseInt(maps[i].teamOneScore) < parseInt(maps[i].teamTwoScore)) {\r\n            twoCount += 1;\r\n          }\r\n        }\r\n        details.teamOneScore = oneCount;\r\n        details.teamTwoScore = twoCount;\r\n        if (oneCount > twoCount) {\r\n          details.winner = 0;\r\n        } else if (oneCount < twoCount) {\r\n          details.winner = 1;\r\n        } else {\r\n          details.winner = -1;\r\n        }\r\n      }\r\n      return details;\r\n    },\r\n    selected(item) {\r\n      console.log(item)\r\n      this.$router.push({\r\n        path: `/matches/${item._id}/${item.slug}`\r\n      });\r\n    }\r\n  },\r\n  components: { EventCard, CountryFlag }\r\n};\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_id.vue?vue&type=template&id=2e066a05&scoped=true&\"\nimport script from \"./_id.vue?vue&type=script&lang=js&\"\nexport * from \"./_id.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./_id.vue?vue&type=style&index=0&id=2e066a05&scoped=true&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"2e066a05\",\n  \"34d6eca0\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACVA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAMA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AA5BA;AAFA;;ACzBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAVA;AAaA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AAhGA;AAiGA;AAAA;AAAA;AAAA;AAhLA;;ACzbA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}